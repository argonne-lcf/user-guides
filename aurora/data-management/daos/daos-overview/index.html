<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.alcf.anl.gov/aurora/data-management/daos/daos-overview/ rel=canonical><link href=../../copper/copper/ rel=prev><link href=../../lustre/flare/ rel=next><link rel=icon href=../../../../images/favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>DAOS - ALCF User Guides</title><link rel=stylesheet href=../../../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=proxima-nova:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"proxima-nova";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../stylesheets/alcf-extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-4M48E2L33R"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-4M48E2L33R",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-4M48E2L33R",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=https://use.typekit.net/pxo0nvo.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#daos-architecture class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <!-- Header --> <!-- component: header --> <header class=md-header data-md-component=header> <div class=header--primary> <div class=grid> <div class=header__site-title> <h1><a href=https://www.alcf.anl.gov/ >Argonne Leadership Computing Facility</a></h1> </div> <nav class=header__nav-primary> <ul> <li id=nav-res class=js-drop data-menu=menu-res> <a href=https://www.alcf.anl.gov/alcf-resources>ALCF Resources</a> <div id=menu-res class="dropdown js-dropdown-hidden"> <nav> <div class=dropdown__intro> <div class=dropdown__intro-subhead> <h2>Leadership Computing Resources</h2> </div> <div class=dropdown__intro-description> <p> The ALCF provides users with access to supercomputing resources that are significantly more powerful than systems typically used for open scientific research. </p> </div> </div> <div class=dropdown__links-1> <div class=dropdown__links-group> <h3>Computing Resources</h3> <ul> <li><a href=https://www.alcf.anl.gov/aurora>Aurora</a></li> <li><a href=https://www.alcf.anl.gov/polaris>Polaris</a></li> <li><a href=https://www.alcf.anl.gov/sophia>Sophia</a></li> <li><a href=https://www.alcf.anl.gov/crux>Crux</a></li> <li><a href=https://www.alcf.anl.gov/alcf-ai-testbed>ALCF AI Testbed</a></li> <li><a href=https://www.alcf.anl.gov/alcf-resources/evaluation-testbeds>Evaluation Testbeds</a> </li> <li><a href=https://www.alcf.anl.gov/alcf-resources/storage-and-networking>Storage and Networking</a></li> </ul> </div> </div> <div class=dropdown__links-2> <div class=dropdown__links-group> <h3>Facility Expertise</h3> <ul> <li><a href=https://www.alcf.anl.gov/alcf-resources/facility-expertise>Facility Expertise</a> </li> </ul> </div> </div> <div class=dropdown__featured> <a href=https://alcf.anl.gov/aurora> <div class=dropdown__featured-title> <h3>Featured: Aurora</h3> </div> <div class=dropdown__featured-image> <div class=img-wrapper> <img src=https://docs.alcf.anl.gov//images/aurora.png> </div> </div> </a> </div> </nav> </div> </li> <li id=nav-sci class=js-drop data-menu=menu-sci> <a href=https://www.alcf.anl.gov/science>Science and Engineering</a> <div id=menu-sci class="dropdown js-dropdown-hidden"> <nav> <div class=dropdown__intro> <div class=dropdown__intro-subhead> <h2>Computational Science</h2> </div> <div class=dropdown__intro-description> <p>The ALCF is accelerating scientific discoveries in many disciplines, ranging from chemistry and engineering to physics and materials science.</p> </div> </div> <div class=dropdown__links-1> <div class=dropdown__links-group> <h3>Output</h3> <ul> <li><a href=https://www.alcf.anl.gov/science/projects>Projects</a></li> <li><a href=https://www.alcf.anl.gov/science/publications>Publications</a></li> <li><a href=https://www.alcf.anl.gov/case-studies>Case Studies</a></li> </ul> </div> </div> <div class=dropdown__links-2> <div class=dropdown__links-group> <h3>Allocation Programs</h3> <ul> <li><a href=https://www.alcf.anl.gov/science/incite-allocation-program>INCITE Program</a></li> <li><a href=https://www.alcf.anl.gov/science/alcc-allocation-program>ALCC Program</a></li> <li><a href=https://www.alcf.anl.gov/science/directors-discretionary-allocation-program>Directorâ€™s Discretionary</a></li> <li><a href=https://www.alcf.anl.gov/science/early-science-program>Early Science Program</a> </li> <li><a href=https://www.alcf.anl.gov/nairr-program>NAIRR Program</a></li> </ul> </div> </div> <div class=dropdown__featured> <a href=https://www.alcf.anl.gov/science/projects/Engineering> <div class=dropdown__featured-title> <h3>Featured: Engineering</h3> </div> <div class=dropdown__featured-image> <div class=img-wrapper> <img src=https://docs.alcf.anl.gov//images/engineering.png> </div> </div> </a> </div> </nav> </div> </li> <li id=nav-cp class=js-drop data-menu=menu-cp> <a href=#https://www.alcf.anl.gov/community-and-partnerships>Community and Outreach</a> <div id=menu-cp class="dropdown js-dropdown-hidden"> <nav> <div class=dropdown__intro> <div class=dropdown__intro-subhead> <h2>Growing the HPC Community</h2> </div> <div class=dropdown__intro-description> <p>The ALCF is committed to providing training and outreach opportunities that prepare researchers to efficiently use its leadership computing systems, while also cultivating a diverse and skilled HPC workforce for the future.</p> </div> </div> <div class=dropdown__links-1> <div class=dropdown__links-group> <h3>Partnerships</h3> <ul> <li><a href=https://www.alcf.anl.gov/community-and-partnerships/industry>Industry</a></li> <li><a href=https://www.alcf.anl.gov/community-and-partnerships/partners>Collaborations</a></li> </ul> </div> <div class=dropdown__links-group> <h3>Community</h3> <ul> <li><a href=https://www.alcf.anl.gov/nairr-pilot>NAIRR Pilot</a></li> <li><a href=https://www.alcf.anl.gov/lighthouse>Lighthouse Initiative</a></li> </ul> </div> </div> <div class=dropdown__links-2> <div class=dropdown__links-group> <h3>Educational Outreach</h3> <ul> <li><a href=https://www.alcf.anl.gov/community-and-partnerships/women-in-stem>Women in STEM</a> </li> <li><a href=https://www.alcf.anl.gov/community-and-partnerships/student-outreach>Student Programs</a></li> </ul> </div> </div> </nav> </div> </li> <li id=nav-abt class=js-drop data-menu=menu-abt> <a href=https://www.alcf.anl.gov/about>About</a> <div id=menu-abt class="dropdown js-dropdown-hidden"> <nav> <div class=dropdown__intro> <div class=dropdown__intro-subhead> <h2>Accelerating Science</h2> </div> <div class=dropdown__intro-description> <p>The Argonne Leadership Computing Facility enables breakthroughs in science and engineering by providing supercomputing resources and expertise to the research community.</p> </div> </div> <div class=dropdown__links-1> <div class=dropdown__links-group> <h3>Get to Know More</h3> <ul> <li><a href=https://www.alcf.anl.gov/about/alcf-leadership-team>Leadership</a></li> <li><a href=https://www.alcf.anl.gov/about/people>People</a></li> <li><a href=https://www.alcf.anl.gov/alcf-organizational-chart>Organizational Chart</a></li> <li><a href=https://www.alcf.anl.gov/about/code-of-conduct>Code of Conduct</a></li> <li><a href=https://www.alcf.anl.gov/about/user-advisory-council>User Advisory Council</a></li> <li><a href=https://www.alcf.anl.gov/about/history>History</a></li> </ul> </div> </div> <div class=dropdown__links-2> <div class=dropdown__links-group> <h3>Visit</h3> <ul> <li><a href=https://www.alcf.anl.gov/about/visiting-alcf>Visiting ALCF</a></li> <li><a href=https://www.alcf.anl.gov/about/tours>Tours</a></li> </ul> </div> </div> <div class=dropdown__links-21> <div class=dropdown__links-group> <h3>Latest</h3> <ul> <li><a href=https://www.alcf.anl.gov/news>News</a></li> <li><a href=https://www.alcf.anl.gov/about/careers>Careers</a></li> </ul> </div> </div> <div class=dropdown__links-22> <div class=dropdown__links-group> <h3>Press Kits</h3> <ul> <li><a href=https://www.alcf.anl.gov/alcf-media-kit>ALCF Media Kit</a></li> <li><a href=https://www.alcf.anl.gov/aurora-media-kit>Aurora Media Kit</a></li> <li><a href=https://www.alcf.anl.gov/report-archive>Reports Archive</a></li> </ul> </div> </div> </nav> </div> </li> <li id=nav-sup class=js-drop data-menu=menu-sup> <a href=https://www.alcf.anl.gov/support-center>Support</a> <div id=menu-sup class="dropdown js-dropdown-hidden"> <nav> <div class=dropdown__intro> <div class=dropdown__intro-subhead> <h2>Support Center</h2> </div> <div class=dropdown__intro-description> <p>The ALCF Support Center assists users with support requests related to their ALCF projects.</p> <small> <strong>Help Desk</strong><br> Hours: 9:00am-5:00pm CT M-F<br> Email: <a href=mailto:support@alcf.anl.gov>mailto:support@alcf.anl.gov</a> </small> </div> </div> <div class=dropdown__links-1> <div class=dropdown__links-group> <h3>Current</h3> <ul> <li><a href=https://www.alcf.anl.gov/support-center/machine-status>Machine Status</a></li> <li><a href=https://www.alcf.anl.gov/support-center/facility-updates>Facility Updates</a></li> <li><a href=" https://my.alcf.anl.gov">MyALCF</a></li> </ul> <br> <h3>Training</h3> <ul> <li><a href=https://www.alcf.anl.gov/support-center/training-assets>Training Videos & Slides</a> </li> <li><a href=https://www.alcf.anl.gov/support-center/training-overview>Training Overview</a></li> <li><a href=https://www.alcf.anl.gov/events>Training and Events</a></li> </ul> </div> </div> <div class=dropdown__links-2> <div class=dropdown__links-group> <h3><a href=https://docs.alcf.anl.gov/ >User Guides</a></h3> <ul> <!-- <li><a href="https://www.alcf.anl.gov/support-center/get-started">Get Started</a></li> --> <li><a href=https://docs.alcf.anl.gov/aurora/ >Aurora</a></li> <li><a href=https://docs.alcf.anl.gov/ai-testbed/ >AI Testbed</a></li> <li><a href=https://docs.alcf.anl.gov/crux/ >Crux</a></li> <li><a href=https://docs.alcf.anl.gov/polaris/ >Polaris</a></li> <li><a href=https://docs.alcf.anl.gov/sophia/ >Sophia</a></li> <!-- add "user support, then "running jobs" links? --> <li><a href=https://docs.alcf.anl.gov/data-management/ >Data Management</a></li> <li><a href=https://docs.alcf.anl.gov/services/ >Services</a></li> <li><a href=https://docs.alcf.anl.gov/account-project-management/ >Account and Project Management</a></li> <li><a href=https://docs.alcf.anl.gov/policies/ >Facility Policies</a></li> </ul> </div> </div> <div class=dropdown__featured> <a href=https://www.alcf.anl.gov/support-center/get-started> <div class=dropdown__featured-title> <h3>Featured: Get Started</h3> </div> <div class=dropdown__featured-image> <div class=img-wrapper> <img src=https://docs.alcf.anl.gov//images/getstarted.png> </div> </div> </a> <a href=https://my.alcf.anl.gov> <div class=dropdown__featured-title> <h3>Featured: MyALCF</h3> </div> <div class=dropdown__featured-image> <div class=img-wrapper> <img src=https://docs.alcf.anl.gov//images/myalcf.png> </div> </div> </a> </div> </nav> </div> </li> </ul> </nav> <nav class=header__nav-secondary> <!-- wrapper needed to hang right --> <div class=header__nav-secondary--right> <ul> <li><a href=https://www.alcf.anl.gov/news> News </a></li> <li><a href=https://www.alcf.anl.gov/events> Events </a></li> <li><a href=https://www.alcf.anl.gov/about/people> People </a></li> <li><a href=https://www.alcf.anl.gov/about/careers> Careers </a></li> <li><a href=https://my.alcf.anl.gov style=text-transform:none;> MyALCF</a></li> </ul> <!-- Color palette toggle --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=alcf data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <!-- User preference: color palette --> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <!-- Site language selector --> <!-- Button to open search modal --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </div> </nav> <!-- Navigation tabs (sticky) --> </div> </div> </header> <!-- Mobile Header --> <header class="md-header header--mobile" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <!-- Link to home --> <a href=https://docs.alcf.anl.gov title="ALCF User Guides" class="md-header__button md-logo" aria-label="ALCF User Guides" data-md-component=logo> <img src=../../../../images/logo.svg alt=logo> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ALCF User Guides </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> DAOS </span> </div> </div> </div> <!-- Color palette toggle --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=alcf data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <!-- User preference: color palette --> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <!-- Site language selector --> <!-- Button to open search modal --> <!--  --> <!--   <label class="md-header__button md-icon" for="__search"> --> <!--      --> <!--     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> --> <!--   </label> --> <!----> <!--   <!-- Search interface --> <!--   <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div> --> <!--  --> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/argonne-lcf/user-guides title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> argonne-lcf/user-guides </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://docs.alcf.anl.gov title="ALCF User Guides" class="md-nav__button md-logo" aria-label="ALCF User Guides" data-md-component=logo> <img src=../../../../images/logo.svg alt=logo> </a> <a href=/ title="ALCF User Guides" class="md-nav__link "> <span class=md-ellipsis> ALCF User Guides </span> </a> </label> <div class=md-nav__source> <a href=https://github.com/argonne-lcf/user-guides title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> argonne-lcf/user-guides </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://www.alcf.anl.gov/support-center/get-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../support/docs-issues/ class=md-nav__link> <span class=md-ellipsis> Contribute to User Guides </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../../support/ class="md-nav__link "> <span class=md-ellipsis> User Support </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User Support </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../support/ticket/ class=md-nav__link> <span class=md-ellipsis> Submit a Ticket </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../../../../support/get-help/ class="md-nav__link "> <span class=md-ellipsis> Get Help & Connect </span> </a> <label class="md-nav__link " for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Get Help & Connect </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../support/get-help/mailing-lists/ class=md-nav__link> <span class=md-ellipsis> Mailing Lists </span> </a> </li> <li class=md-nav__item> <a href=../../../../support/get-help/software-requests/ class=md-nav__link> <span class=md-ellipsis> Request Software </span> </a> </li> <li class=md-nav__item> <a href=../../../../support/get-help/alcf-users-slack/ class=md-nav__link> <span class=md-ellipsis> ALCF Users Slack </span> </a> </li> <li class=md-nav__item> <a href=../../../../support/get-help/office-hours/ class=md-nav__link> <span class=md-ellipsis> Aurora Office Hours </span> </a> </li> <li class=md-nav__item> <a href=../../../../support/get-help/askalcf/ class=md-nav__link> <span class=md-ellipsis> AskALCF Chatbot </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../machines/ class="md-nav__link "> <span class=md-ellipsis> Machines </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Machines </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> Aurora </span> </a> <label class="md-nav__link " for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Aurora </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../node-performance-overview/node-performance-overview/ class=md-nav__link> <span class=md-ellipsis> Node Performance Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started-on-aurora/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../known-issues/ class=md-nav__link> <span class=md-ellipsis> Known Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../system-updates/ class=md-nav__link> <span class=md-ellipsis> System Updates </span> </a> </li> <li class=md-nav__item> <a href=../../../aurora-pe/ class=md-nav__link> <span class=md-ellipsis> Aurora Programming Environment </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_7> <div class="md-nav__link md-nav__container"> <a href=../../../compiling-and-linking/ class="md-nav__link "> <span class=md-ellipsis> Compiling and Linking </span> </a> <label class="md-nav__link " for=__nav_4_2_7 id=__nav_4_2_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_7> <span class="md-nav__icon md-icon"></span> Compiling and Linking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compiling-and-linking/aurora-programming-models/ class=md-nav__link> <span class=md-ellipsis> Programming Models </span> </a> </li> <li class=md-nav__item> <a href=../../../compiling-and-linking/aurora-example-program-makefile/ class=md-nav__link> <span class=md-ellipsis> Example Program and Makefile </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_8> <label class=md-nav__link for=__nav_4_2_8 id=__nav_4_2_8_label tabindex=0> <span class=md-ellipsis> Build Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_8> <span class="md-nav__icon md-icon"></span> Build Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../build-tools/cmake-aurora/ class=md-nav__link> <span class=md-ellipsis> CMake </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../running-jobs-aurora/ class=md-nav__link> <span class=md-ellipsis> Running Jobs </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_10 checked> <label class=md-nav__link for=__nav_4_2_10 id=__nav_4_2_10_label tabindex=0> <span class=md-ellipsis> Data Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_10_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2_10> <span class="md-nav__icon md-icon"></span> Data Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../copper/copper/ class=md-nav__link> <span class=md-ellipsis> Copper </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> DAOS </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> DAOS </span> </a> <!-- Table of Contents --> <!-- --------------------------------------------------------------------- --> <nav class="md-nav md-nav--secondary" aria-label> <label class=md-nav__title for=__toc> Table of contents </label> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#daos-overview class=md-nav__link> <span class=md-ellipsis> DAOS Overview </span> </a> </li> <li class=md-nav__item> <a href=#daos-pool-allocation class=md-nav__link> <span class=md-ellipsis> DAOS Pool Allocation </span> </a> <nav class=md-nav aria-label="DAOS Pool Allocation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#note class=md-nav__link> <span class=md-ellipsis> Note </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#modules class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> </li> <li class=md-nav__item> <a href=#pool class=md-nav__link> <span class=md-ellipsis> Pool </span> </a> </li> <li class=md-nav__item> <a href=#posix-containers class=md-nav__link> <span class=md-ellipsis> POSIX Containers </span> </a> </li> <li class=md-nav__item> <a href=#daos-agent-check class=md-nav__link> <span class=md-ellipsis> DAOS Agent Check </span> </a> </li> <li class=md-nav__item> <a href=#daos-pool-and-container-sanity-checks-is-the-daos_user-cluster-up-or-down class=md-nav__link> <span class=md-ellipsis> DAOS pool and container sanity checks (is the daos_user cluster up or down?) </span> </a> </li> <li class=md-nav__item> <a href=#posix-container-access-via-dfuse class=md-nav__link> <span class=md-ellipsis> POSIX Container Access via DFUSE </span> </a> <nav class=md-nav aria-label="POSIX Container Access via DFUSE"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-to-mount-a-posix-container-on-a-uan class=md-nav__link> <span class=md-ellipsis> 1. To mount a POSIX container on a UAN </span> </a> </li> <li class=md-nav__item> <a href=#2-to-mount-a-posix-container-on-compute-nodes class=md-nav__link> <span class=md-ellipsis> 2. To mount a POSIX container on Compute Nodes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#unclean-container-status class=md-nav__link> <span class=md-ellipsis> 'UNCLEAN' Container Status </span> </a> </li> <li class=md-nav__item> <a href=#job-submission class=md-nav__link> <span class=md-ellipsis> Job Submission </span> </a> </li> <li class=md-nav__item> <a href=#nic-and-core-binding class=md-nav__link> <span class=md-ellipsis> NIC and Core Binding </span> </a> </li> <li class=md-nav__item> <a href=#interception-library-for-posix-containers class=md-nav__link> <span class=md-ellipsis> Interception library for POSIX containers </span> </a> </li> <li class=md-nav__item> <a href=#sample-job-script class=md-nav__link> <span class=md-ellipsis> Sample job script </span> </a> </li> <li class=md-nav__item> <a href=#mpi-io-container-access class=md-nav__link> <span class=md-ellipsis> MPI-IO Container Access </span> </a> </li> <li class=md-nav__item> <a href=#dfs-container-access class=md-nav__link> <span class=md-ellipsis> DFS Container Access </span> </a> </li> <li class=md-nav__item> <a href=#example-of-pytorch-integration-pydaosdaos_torch-module class=md-nav__link> <span class=md-ellipsis> Example of PyTorch integration: pydaos.daos_torch module </span> </a> </li> <li class=md-nav__item> <a href=#daos-hardware class=md-nav__link> <span class=md-ellipsis> DAOS Hardware </span> </a> </li> <li class=md-nav__item> <a href=#darshan-profiler-for-daos class=md-nav__link> <span class=md-ellipsis> Darshan profiler for DAOS </span> </a> <nav class=md-nav aria-label="Darshan profiler for DAOS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-darshan class=md-nav__link> <span class=md-ellipsis> 1. Darshan </span> </a> </li> <li class=md-nav__item> <a href=#2-darshan-util-environment-module class=md-nav__link> <span class=md-ellipsis> 2. darshan-util environment module </span> </a> </li> <li class=md-nav__item> <a href=#3-darshan-parser-utility class=md-nav__link> <span class=md-ellipsis> 3. darshan-parser utility </span> </a> </li> <li class=md-nav__item> <a href=#4-pydarshan-library-and-python-module class=md-nav__link> <span class=md-ellipsis> 4. PyDarshan library and Python module </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cluster-size class=md-nav__link> <span class=md-ellipsis> Cluster Size </span> </a> </li> <li class=md-nav__item> <a href=#sharing-containers-with-multiple-users class=md-nav__link> <span class=md-ellipsis> Sharing containers with multiple users </span> </a> </li> <li class=md-nav__item> <a href=#known-issues-and-workarounds class=md-nav__link> <span class=md-ellipsis> Known issues and workarounds </span> </a> <nav class=md-nav aria-label="Known issues and workarounds"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-large-bulk-io-write-issue class=md-nav__link> <span class=md-ellipsis> 1. Large bulk I/O write issue </span> </a> </li> <li class=md-nav__item> <a href=#2-pydaosdaos_torch-disconnect-and-clean-up class=md-nav__link> <span class=md-ellipsis> 2. pydaos.daos_torch disconnect and clean up </span> </a> </li> <li class=md-nav__item> <a href=#3-libfabric-endpoint-creation-error class=md-nav__link> <span class=md-ellipsis> 3. Libfabric endpoint creation error </span> </a> </li> <li class=md-nav__item> <a href=#4-issue-with-the-gpu_tile_compactsh-bash-script-and-the-daos-interception-libraries class=md-nav__link> <span class=md-ellipsis> 4. Issue with the gpu_tile_compact.sh bash script and the DAOS Interception Libraries </span> </a> </li> <li class=md-nav__item> <a href=#5-na_hostunreach-errors class=md-nav__link> <span class=md-ellipsis> 5. NA_HOSTUNREACH errors </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best practices </span> </a> </li> <br> <li class=md-nav__item> <hr> <a href=https://github.com/argonne-lcf/user-guides/issues/new/choose class=md-nav__link> <span class=md-ellipsis> <strong>Does this doc need an update?<br>Open an Issue on GitHub</strong> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../lustre/flare/ class=md-nav__link> <span class=md-ellipsis> Lustre (Flare) </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_10_4> <label class=md-nav__link for=__nav_4_2_10_4 id=__nav_4_2_10_4_label tabindex=0> <span class=md-ellipsis> Moving data to Aurora </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_10_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_10_4> <span class="md-nav__icon md-icon"></span> Moving data to Aurora </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../moving_data_to_aurora/daos_datamover/ class=md-nav__link> <span class=md-ellipsis> DAOS Data Mover </span> </a> </li> <li class=md-nav__item> <a href=../../moving_data_to_aurora/globus/ class=md-nav__link> <span class=md-ellipsis> Globus </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_11> <label class=md-nav__link for=__nav_4_2_11 id=__nav_4_2_11_label tabindex=0> <span class=md-ellipsis> Applications and Libraries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_11> <span class="md-nav__icon md-icon"></span> Applications and Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_11_1> <label class=md-nav__link for=__nav_4_2_11_1 id=__nav_4_2_11_1_label tabindex=0> <span class=md-ellipsis> Libraries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_11_1> <span class="md-nav__icon md-icon"></span> Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../applications-and-libraries/libraries/cabana-aurora/ class=md-nav__link> <span class=md-ellipsis> Cabana </span> </a> </li> <li class=md-nav__item> <a href=../../../applications-and-libraries/libraries/onedal/ class=md-nav__link> <span class=md-ellipsis> oneDAL </span> </a> </li> <li class=md-nav__item> <a href=../../../applications-and-libraries/libraries/spack-pe/ class=md-nav__link> <span class=md-ellipsis> Spack PE </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../containers/containers/ class=md-nav__link> <span class=md-ellipsis> Containers </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_13> <label class=md-nav__link for=__nav_4_2_13 id=__nav_4_2_13_label tabindex=0> <span class=md-ellipsis> Data Science </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_13_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_13> <span class="md-nav__icon md-icon"></span> Data Science </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data-science/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/jupyter/ class=md-nav__link> <span class=md-ellipsis> Jupyter </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/profiling_dl/ class=md-nav__link> <span class=md-ellipsis> Profiling </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_13_4> <label class=md-nav__link for=__nav_4_2_13_4 id=__nav_4_2_13_4_label tabindex=0> <span class=md-ellipsis> Frameworks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_13_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_13_4> <span class="md-nav__icon md-icon"></span> Frameworks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data-science/frameworks/deepspeed/ class=md-nav__link> <span class=md-ellipsis> DeepSpeed </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/megatron-deepspeed/ class=md-nav__link> <span class=md-ellipsis> Megatron-DeepSpeed </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/pytorch/ class=md-nav__link> <span class=md-ellipsis> PyTorch </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/tensorflow/ class=md-nav__link> <span class=md-ellipsis> TensorFlow </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/dask/ class=md-nav__link> <span class=md-ellipsis> Dask </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/oneCCL/ class=md-nav__link> <span class=md-ellipsis> oneCCL </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/scikit-learn/ class=md-nav__link> <span class=md-ellipsis> scikit-learn </span> </a> </li> <li class=md-nav__item> <a href=../../../applications-and-libraries/libraries/onedal/ class=md-nav__link> <span class=md-ellipsis> oneDAL </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/gpytorch/ class=md-nav__link> <span class=md-ellipsis> GPyTorch </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/frameworks/pyg/ class=md-nav__link> <span class=md-ellipsis> PyTorch Geometric (PyG) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_13_5> <label class=md-nav__link for=__nav_4_2_13_5 id=__nav_4_2_13_5_label tabindex=0> <span class=md-ellipsis> AI Inference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_13_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_13_5> <span class="md-nav__icon md-icon"></span> AI Inference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data-science/inference/libtorch/ class=md-nav__link> <span class=md-ellipsis> LibTorch </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/inference/openvino/ class=md-nav__link> <span class=md-ellipsis> OpenVINO </span> </a> </li> <li class=md-nav__item> <a href=../../../data-science/inference/vllm/ class=md-nav__link> <span class=md-ellipsis> vLLM </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_14> <label class=md-nav__link for=__nav_4_2_14 id=__nav_4_2_14_label tabindex=0> <span class=md-ellipsis> Programming Models </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_14_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_14> <span class="md-nav__icon md-icon"></span> Programming Models </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../programming-models/kokkos-aurora/ class=md-nav__link> <span class=md-ellipsis> Kokkos </span> </a> </li> <li class=md-nav__item> <a href=../../../programming-models/level-0/ class=md-nav__link> <span class=md-ellipsis> Level Zero </span> </a> </li> <li class=md-nav__item> <a href=../../../programming-models/opencl-aurora/ class=md-nav__link> <span class=md-ellipsis> OpenCL </span> </a> </li> <li class=md-nav__item> <a href=../../../programming-models/openmp-aurora/ class=md-nav__link> <span class=md-ellipsis> OpenMP </span> </a> </li> <li class=md-nav__item> <a href=../../../programming-models/sycl-aurora/ class=md-nav__link> <span class=md-ellipsis> SYCL </span> </a> </li> <li class=md-nav__item> <a href=../../../programming-models/hip-aurora/ class=md-nav__link> <span class=md-ellipsis> HIP </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_15> <div class="md-nav__link md-nav__container"> <a href=../../../debugging/ class="md-nav__link "> <span class=md-ellipsis> Debugging Tools </span> </a> <label class="md-nav__link " for=__nav_4_2_15 id=__nav_4_2_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_15_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_15> <span class="md-nav__icon md-icon"></span> Debugging Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../debugging/gdb-oneapi/ class=md-nav__link> <span class=md-ellipsis> gdb-oneapi </span> </a> </li> <li class=md-nav__item> <a href=../../../debugging/ddt-aurora/ class=md-nav__link> <span class=md-ellipsis> DDT </span> </a> </li> <li class=md-nav__item> <a href=../../../debugging/gdb4hpc/ class=md-nav__link> <span class=md-ellipsis> gdb4hpc </span> </a> </li> <li class=md-nav__item> <a href=../../../debugging/codee/ class=md-nav__link> <span class=md-ellipsis> Codee </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_16> <div class="md-nav__link md-nav__container"> <a href=../../../performance-tools/ class="md-nav__link "> <span class=md-ellipsis> Performance Tools </span> </a> <label class="md-nav__link " for=__nav_4_2_16 id=__nav_4_2_16_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_16_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_16> <span class="md-nav__icon md-icon"></span> Performance Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../performance-tools/iprof/ class=md-nav__link> <span class=md-ellipsis> iprof </span> </a> </li> <li class=md-nav__item> <a href=../../../performance-tools/unitrace/ class=md-nav__link> <span class=md-ellipsis> unitrace </span> </a> </li> <li class=md-nav__item> <a href=../../../performance-tools/xpu-smi/ class=md-nav__link> <span class=md-ellipsis> xpu-smi </span> </a> </li> <li class=md-nav__item> <a href=../../../performance-tools/aps/ class=md-nav__link> <span class=md-ellipsis> APS </span> </a> </li> <li class=md-nav__item> <a href=../../../performance-tools/advisor/ class=md-nav__link> <span class=md-ellipsis> Advisor </span> </a> </li> <li class=md-nav__item> <a href=../../../performance-tools/vtune/ class=md-nav__link> <span class=md-ellipsis> VTune </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_17> <label class=md-nav__link for=__nav_4_2_17 id=__nav_4_2_17_label tabindex=0> <span class=md-ellipsis> Services </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_17_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_17> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../services/gitlab-ci/ class=md-nav__link> <span class=md-ellipsis> GitLab CI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_18> <div class="md-nav__link md-nav__container"> <a href=../../../visualization/ class="md-nav__link "> <span class=md-ellipsis> Visualization </span> </a> <label class="md-nav__link " for=__nav_4_2_18 id=__nav_4_2_18_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_18_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_18> <span class="md-nav__icon md-icon"></span> Visualization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../visualization/paraview/ class=md-nav__link> <span class=md-ellipsis> ParaView (Launch from Client) </span> </a> </li> <li class=md-nav__item> <a href=../../../visualization/paraview-manual-launch/ class=md-nav__link> <span class=md-ellipsis> ParaView (Manual Launch) </span> </a> </li> <li class=md-nav__item> <a href=../../../visualization/visit/ class=md-nav__link> <span class=md-ellipsis> VisIt </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_19> <label class=md-nav__link for=__nav_4_2_19 id=__nav_4_2_19_label tabindex=0> <span class=md-ellipsis> Workflows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_19_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_19> <span class="md-nav__icon md-icon"></span> Workflows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../workflows/adios/ class=md-nav__link> <span class=md-ellipsis> ADIOS2 </span> </a> </li> <li class=md-nav__item> <a href=../../../workflows/balsam/ class=md-nav__link> <span class=md-ellipsis> Balsam </span> </a> </li> <li class=md-nav__item> <a href=../../../workflows/libensemble/ class=md-nav__link> <span class=md-ellipsis> libEnsemble </span> </a> </li> <li class=md-nav__item> <a href=../../../workflows/parsl/ class=md-nav__link> <span class=md-ellipsis> Parsl </span> </a> </li> <li class=md-nav__item> <a href=../../../workflows/smartsim/ class=md-nav__link> <span class=md-ellipsis> SmartSim </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <div class="md-nav__link md-nav__container"> <a href=../../../../ai-testbed/ class="md-nav__link "> <span class=md-ellipsis> AI Testbed </span> </a> <label class="md-nav__link " for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> AI Testbed </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_2> <div class="md-nav__link md-nav__container"> <a href=../../../../ai-testbed/cerebras/ class="md-nav__link "> <span class=md-ellipsis> Cerebras </span> </a> <label class="md-nav__link " for=__nav_4_3_2 id=__nav_4_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> Cerebras </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/running-a-model-or-program/ class=md-nav__link> <span class=md-ellipsis> Running a Model/Program </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/customizing-environment/ class=md-nav__link> <span class=md-ellipsis> Customizing Environments </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/job-queuing-and-submission/ class=md-nav__link> <span class=md-ellipsis> Job Queuing and Submission </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/example-programs/ class=md-nav__link> <span class=md-ellipsis> Example Programs </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/tunneling-and-forwarding-ports/ class=md-nav__link> <span class=md-ellipsis> Tunneling and Forwarding Ports </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/miscellaneous/ class=md-nav__link> <span class=md-ellipsis> Miscellaneous </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/cerebras/csl/ class=md-nav__link> <span class=md-ellipsis> CSL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_3> <div class="md-nav__link md-nav__container"> <a href=../../../../ai-testbed/graphcore/ class="md-nav__link "> <span class=md-ellipsis> Graphcore </span> </a> <label class="md-nav__link " for=__nav_4_3_3 id=__nav_4_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> Graphcore </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/virtual-environments/ class=md-nav__link> <span class=md-ellipsis> Virtual Environment </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/running-a-model-or-program/ class=md-nav__link> <span class=md-ellipsis> Running a Model/Program </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/job-queuing-and-submission/ class=md-nav__link> <span class=md-ellipsis> Job Queuing and Submission </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/example-programs/ class=md-nav__link> <span class=md-ellipsis> Example Programs </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/miscellaneous/ class=md-nav__link> <span class=md-ellipsis> Miscellaneous </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/graphcore/documentation/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_4> <div class="md-nav__link md-nav__container"> <a href=../../../../ai-testbed/groq/ class="md-nav__link "> <span class=md-ellipsis> Groq </span> </a> <label class="md-nav__link " for=__nav_4_3_4 id=__nav_4_3_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_4> <span class="md-nav__icon md-icon"></span> Groq </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ai-testbed/groq/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/groq/running-a-model-or-program/ class=md-nav__link> <span class=md-ellipsis> Running a Model/Program </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/groq/virtual-environments/ class=md-nav__link> <span class=md-ellipsis> Virtual Environments </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/groq/job-queuing-and-submission/ class=md-nav__link> <span class=md-ellipsis> Job Queueing and Submission </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/groq/groqview/ class=md-nav__link> <span class=md-ellipsis> Profiling with GroqView </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/groq/examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_5> <label class=md-nav__link for=__nav_4_3_5 id=__nav_4_3_5_label tabindex=0> <span class=md-ellipsis> SambaNova </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_5> <span class="md-nav__icon md-icon"></span> SambaNova </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_5_1> <div class="md-nav__link md-nav__container"> <a href=../../../../ai-testbed/sambanova/ class="md-nav__link "> <span class=md-ellipsis> SN30 </span> </a> <label class="md-nav__link " for=__nav_4_3_5_1 id=__nav_4_3_5_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_3_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_5_1> <span class="md-nav__icon md-icon"></span> SN30 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/virtual-environment/ class=md-nav__link> <span class=md-ellipsis> Virtual Environment </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/running-a-model-or-program/ class=md-nav__link> <span class=md-ellipsis> Running a Model/Program </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/job-queuing-and-submission/ class=md-nav__link> <span class=md-ellipsis> Job Queuing and Submission </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/example-programs/ class=md-nav__link> <span class=md-ellipsis> Example Programs </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/example-multi-node-programs/ class=md-nav__link> <span class=md-ellipsis> Example Multi-Node Programs </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/example-modelzoo-programs/ class=md-nav__link> <span class=md-ellipsis> ModelZoo Samples </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/tunneling-and-forwarding-ports/ class=md-nav__link> <span class=md-ellipsis> Tunneling and Forwarding Ports </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/sambatune/ class=md-nav__link> <span class=md-ellipsis> SambaTune for profiling and performance tuning </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/miscellaneous/ class=md-nav__link> <span class=md-ellipsis> Miscellaneous </span> </a> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/sambanova/documentation/ class=md-nav__link> <span class=md-ellipsis> SambaNova Documentation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_5_2> <div class="md-nav__link md-nav__container"> <a href=../../../../ai-testbed/sn40l_inference/ class="md-nav__link "> <span class=md-ellipsis> Metis Inference </span> </a> <label class="md-nav__link " for=__nav_4_3_5_2 id=__nav_4_3_5_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_3_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3_5_2> <span class="md-nav__icon md-icon"></span> Metis Inference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ai-testbed/sn40l_inference/using_an_inference_endpoint/ class=md-nav__link> <span class=md-ellipsis> Using an Inference Endpoint </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../ai-testbed/data-management/data-management-overview/ class=md-nav__link> <span class=md-ellipsis> Data Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <div class="md-nav__link md-nav__container"> <a href=../../../../crux/ class="md-nav__link "> <span class=md-ellipsis> Crux </span> </a> <label class="md-nav__link " for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Crux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../crux/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../crux/queueing-and-running-jobs/running-jobs/ class=md-nav__link> <span class=md-ellipsis> Running Jobs </span> </a> </li> <li class=md-nav__item> <a href=../../../../crux/compiling-and-linking/compiling-and-linking-overview/ class=md-nav__link> <span class=md-ellipsis> Compiling and Linking </span> </a> </li> <li class=md-nav__item> <a href=../../../../crux/containers/containers/ class=md-nav__link> <span class=md-ellipsis> Containers </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6> <label class=md-nav__link for=__nav_4_4_6 id=__nav_4_4_6_label tabindex=0> <span class=md-ellipsis> Data Science </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6> <span class="md-nav__icon md-icon"></span> Data Science </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../crux/data-science/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <div class="md-nav__link md-nav__container"> <a href=../../../../polaris/ class="md-nav__link "> <span class=md-ellipsis> Polaris </span> </a> <label class="md-nav__link " for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Polaris </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/known-issues/ class=md-nav__link> <span class=md-ellipsis> Known Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/system-updates/ class=md-nav__link> <span class=md-ellipsis> System Updates </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_5> <div class="md-nav__link md-nav__container"> <a href=../../../../polaris/compiling-and-linking/ class="md-nav__link "> <span class=md-ellipsis> Compiling and Linking </span> </a> <label class="md-nav__link " for=__nav_4_5_5 id=__nav_4_5_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_5> <span class="md-nav__icon md-icon"></span> Compiling and Linking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/polaris-programming-models/ class=md-nav__link> <span class=md-ellipsis> Programming Models </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/polaris-example-program-makefile/ class=md-nav__link> <span class=md-ellipsis> Example Program and Makefile </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/cce-compilers-polaris/ class=md-nav__link> <span class=md-ellipsis> CCE Compilers </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/gnu-compilers-polaris/ class=md-nav__link> <span class=md-ellipsis> GNU Compilers </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/nvidia-compiler-polaris/ class=md-nav__link> <span class=md-ellipsis> NVIDIA Compilers </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/llvm-compilers-polaris/ class=md-nav__link> <span class=md-ellipsis> LLVM Compilers </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/compiling-and-linking/oneapi-compiler/ class=md-nav__link> <span class=md-ellipsis> oneAPI Toolkit </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_6> <label class=md-nav__link for=__nav_4_5_6 id=__nav_4_5_6_label tabindex=0> <span class=md-ellipsis> Build Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_6> <span class="md-nav__icon md-icon"></span> Build Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/build-tools/cmake-polaris/ class=md-nav__link> <span class=md-ellipsis> CMake </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_7> <div class="md-nav__link md-nav__container"> <a href=../../../../polaris/running-jobs/ class="md-nav__link "> <span class=md-ellipsis> Running Jobs </span> </a> <label class="md-nav__link " for=__nav_4_5_7 id=__nav_4_5_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_7> <span class="md-nav__icon md-icon"></span> Running Jobs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/running-jobs/using-gpus/ class=md-nav__link> <span class=md-ellipsis> Using GPUs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_8> <label class=md-nav__link for=__nav_4_5_8 id=__nav_4_5_8_label tabindex=0> <span class=md-ellipsis> Applications and Libraries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_8> <span class="md-nav__icon md-icon"></span> Applications and Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_8_1> <label class=md-nav__link for=__nav_4_5_8_1 id=__nav_4_5_8_1_label tabindex=0> <span class=md-ellipsis> Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_5_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_8_1> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/amber/ class=md-nav__link> <span class=md-ellipsis> Amber </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/gromacs/ class=md-nav__link> <span class=md-ellipsis> GROMACS </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/lammps/ class=md-nav__link> <span class=md-ellipsis> LAMMPS </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/namd/ class=md-nav__link> <span class=md-ellipsis> NAMD </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/nekrs/ class=md-nav__link> <span class=md-ellipsis> NekRS </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/openmm/ class=md-nav__link> <span class=md-ellipsis> OpenMM </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/QMCPACK/ class=md-nav__link> <span class=md-ellipsis> QMCPACK </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/QuantumESPRESSO/ class=md-nav__link> <span class=md-ellipsis> Quantum ESPRESSO </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/applications/vasp/ class=md-nav__link> <span class=md-ellipsis> VASP </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_8_2> <label class=md-nav__link for=__nav_4_5_8_2 id=__nav_4_5_8_2_label tabindex=0> <span class=md-ellipsis> Libraries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_5_8_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_8_2> <span class="md-nav__icon md-icon"></span> Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/libraries/math-libraries/ class=md-nav__link> <span class=md-ellipsis> Math Libraries </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/libraries/cabana-polaris/ class=md-nav__link> <span class=md-ellipsis> Cabana </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/libraries/spack-pe/ class=md-nav__link> <span class=md-ellipsis> Spack PE </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/libraries/nccl/ class=md-nav__link> <span class=md-ellipsis> NCCL </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/applications-and-libraries/libraries/xalt/ class=md-nav__link> <span class=md-ellipsis> XALT </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../polaris/containers/containers/ class=md-nav__link> <span class=md-ellipsis> Containers </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_10> <label class=md-nav__link for=__nav_4_5_10 id=__nav_4_5_10_label tabindex=0> <span class=md-ellipsis> Data Science </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_10> <span class="md-nav__icon md-icon"></span> Data Science </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/data-science/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/profiling_dl/ class=md-nav__link> <span class=md-ellipsis> Profiling </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_10_3> <label class=md-nav__link for=__nav_4_5_10_3 id=__nav_4_5_10_3_label tabindex=0> <span class=md-ellipsis> Frameworks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_5_10_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_10_3> <span class="md-nav__icon md-icon"></span> Frameworks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/data-science/frameworks/tensorflow/ class=md-nav__link> <span class=md-ellipsis> TensorFlow </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/frameworks/pytorch/ class=md-nav__link> <span class=md-ellipsis> PyTorch </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/frameworks/jax/ class=md-nav__link> <span class=md-ellipsis> JAX </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/frameworks/deepspeed/ class=md-nav__link> <span class=md-ellipsis> DeepSpeed </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/frameworks/libtorch/ class=md-nav__link> <span class=md-ellipsis> LibTorch </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/frameworks/gpytorch/ class=md-nav__link> <span class=md-ellipsis> GPyTorch </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_10_4> <label class=md-nav__link for=__nav_4_5_10_4 id=__nav_4_5_10_4_label tabindex=0> <span class=md-ellipsis> Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_5_10_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_10_4> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/data-science/applications/megatron-deepspeed/ class=md-nav__link> <span class=md-ellipsis> Megatron-DeepSpeed </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/data-science/applications/gpt-neox/ class=md-nav__link> <span class=md-ellipsis> gpt-neox </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_11> <label class=md-nav__link for=__nav_4_5_11 id=__nav_4_5_11_label tabindex=0> <span class=md-ellipsis> Programming Models </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_11> <span class="md-nav__icon md-icon"></span> Programming Models </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/programming-models/openmp-polaris/ class=md-nav__link> <span class=md-ellipsis> OpenMP </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/programming-models/sycl-polaris/ class=md-nav__link> <span class=md-ellipsis> SYCL </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/programming-models/kokkos-polaris/ class=md-nav__link> <span class=md-ellipsis> Kokkos </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/programming-models/julia/ class=md-nav__link> <span class=md-ellipsis> Julia </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_12> <label class=md-nav__link for=__nav_4_5_12 id=__nav_4_5_12_label tabindex=0> <span class=md-ellipsis> Debugging Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_12> <span class="md-nav__icon md-icon"></span> Debugging Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/debugging-tools/CUDA-GDB/ class=md-nav__link> <span class=md-ellipsis> CUDA-GDB </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_13> <label class=md-nav__link for=__nav_4_5_13 id=__nav_4_5_13_label tabindex=0> <span class=md-ellipsis> Performance Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_13_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_13> <span class="md-nav__icon md-icon"></span> Performance Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/performance-tools/NVIDIA-Nsight/ class=md-nav__link> <span class=md-ellipsis> NVIDIA-Nsight </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_14> <div class="md-nav__link md-nav__container"> <a href=../../../../polaris/visualization/ class="md-nav__link "> <span class=md-ellipsis> Visualization </span> </a> <label class="md-nav__link " for=__nav_4_5_14 id=__nav_4_5_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_14_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_14> <span class="md-nav__icon md-icon"></span> Visualization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/visualization/paraview/ class=md-nav__link> <span class=md-ellipsis> ParaView (Launch from Client) </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/visualization/paraview-manual-launch/ class=md-nav__link> <span class=md-ellipsis> ParaView (Manual Launch) </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/visualization/visit/ class=md-nav__link> <span class=md-ellipsis> VisIt </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/visualization/ffmpeg/ class=md-nav__link> <span class=md-ellipsis> FFmpeg </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/visualization/imagemagick/ class=md-nav__link> <span class=md-ellipsis> ImageMagick </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/visualization/paraview-tutorial/ class=md-nav__link> <span class=md-ellipsis> ParaView Tutorial </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/visualization/vnc/ class=md-nav__link> <span class=md-ellipsis> VNC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_15> <label class=md-nav__link for=__nav_4_5_15 id=__nav_4_5_15_label tabindex=0> <span class=md-ellipsis> Workflows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_15_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5_15> <span class="md-nav__icon md-icon"></span> Workflows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../polaris/workflows/balsam/ class=md-nav__link> <span class=md-ellipsis> Balsam </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/workflows/dragon/ class=md-nav__link> <span class=md-ellipsis> Dragon </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/workflows/parsl/ class=md-nav__link> <span class=md-ellipsis> Parsl </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/workflows/libensemble/ class=md-nav__link> <span class=md-ellipsis> libEnsemble </span> </a> </li> <li class=md-nav__item> <a href=../../../../polaris/workflows/smartsim/ class=md-nav__link> <span class=md-ellipsis> SmartSim </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <div class="md-nav__link md-nav__container"> <a href=../../../../sophia/ class="md-nav__link "> <span class=md-ellipsis> Sophia </span> </a> <label class="md-nav__link " for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Sophia </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../sophia/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../sophia/queueing-and-running-jobs/running-jobs/ class=md-nav__link> <span class=md-ellipsis> Running Jobs </span> </a> </li> <li class=md-nav__item> <a href=../../../../sophia/compiling-and-linking/compiling-and-linking-overview/ class=md-nav__link> <span class=md-ellipsis> Compiling and Linking </span> </a> </li> <li class=md-nav__item> <a href=../../../../sophia/containers/containers/ class=md-nav__link> <span class=md-ellipsis> Containers </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6_6> <label class=md-nav__link for=__nav_4_6_6 id=__nav_4_6_6_label tabindex=0> <span class=md-ellipsis> Data Science </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6_6> <span class="md-nav__icon md-icon"></span> Data Science </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../sophia/data-science/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../../../sophia/data-science/fine-tune-LLM-with-Autotrain/ class=md-nav__link> <span class=md-ellipsis> Fine-tuning with Autotrain </span> </a> </li> <li class=md-nav__item> <a href=../../../../sophia/data-science/dask/ class=md-nav__link> <span class=md-ellipsis> Dask </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6_7> <div class="md-nav__link md-nav__container"> <a href=../../../../sophia/visualization/ class="md-nav__link "> <span class=md-ellipsis> Visualization </span> </a> <label class="md-nav__link " for=__nav_4_6_7 id=__nav_4_6_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6_7> <span class="md-nav__icon md-icon"></span> Visualization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../sophia/visualization/paraview/ class=md-nav__link> <span class=md-ellipsis> ParaView (Launch from Client) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../../running-jobs/ class="md-nav__link "> <span class=md-ellipsis> Running Jobs with PBS </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Running Jobs with PBS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../running-jobs/example-job-scripts/ class=md-nav__link> <span class=md-ellipsis> Example Job Scripts </span> </a> </li> <li class=md-nav__item> <a href=../../../../running-jobs/machine-reservations/ class=md-nav__link> <span class=md-ellipsis> Machine Reservations </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../../../data-management/ class="md-nav__link "> <span class=md-ellipsis> Data Management </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Data Management </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <div class="md-nav__link md-nav__container"> <a href=../../../../data-management/filesystem-and-storage/ class="md-nav__link "> <span class=md-ellipsis> File System & Storage </span> </a> <label class="md-nav__link " for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> File System & Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../data-management/filesystem-and-storage/hpss/ class=md-nav__link> <span class=md-ellipsis> HPSS </span> </a> </li> <li class=md-nav__item> <a href=../../../../data-management/filesystem-and-storage/disk-quota/ class=md-nav__link> <span class=md-ellipsis> Disk Quota </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <div class="md-nav__link md-nav__container"> <a href=../../../../data-management/acdc/ class="md-nav__link "> <span class=md-ellipsis> Transfer & Sharing </span> </a> <label class="md-nav__link " for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Transfer & Sharing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../data-management/data-transfer/sftp-scp/ class=md-nav__link> <span class=md-ellipsis> SFTP and SCP </span> </a> </li> <li class=md-nav__item> <a href=../../../../data-management/data-transfer/using-globus/ class=md-nav__link> <span class=md-ellipsis> Using Globus </span> </a> </li> <li class=md-nav__item> <a href=../../../../data-management/acdc/eagle-data-sharing/ class=md-nav__link> <span class=md-ellipsis> Sharing on Eagle Using Globus </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../../../services/ class="md-nav__link "> <span class=md-ellipsis> Services </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../services/inference-endpoints/ class=md-nav__link> <span class=md-ellipsis> Inference Endpoints </span> </a> </li> <li class=md-nav__item> <a href=../../../../services/jupyter-hub/ class=md-nav__link> <span class=md-ellipsis> JupyterHub </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> Continuous Integration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Continuous Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../services/continuous-integration/ class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=../../../../services/gitlab-ci/ class=md-nav__link> <span class=md-ellipsis> GitLab CI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../../../../account-project-management/ class="md-nav__link "> <span class=md-ellipsis> Account & Project Management </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Account & Project Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../account-project-management/MyALCF/ class=md-nav__link> <span class=md-ellipsis> MyALCF </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_3> <div class="md-nav__link md-nav__container"> <a href=../../../../account-project-management/accounts-and-access/ class="md-nav__link "> <span class=md-ellipsis> Accounts and Access </span> </a> <label class="md-nav__link " for=__nav_8_3 id=__nav_8_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> Accounts and Access </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../account-project-management/accounts-and-access/obtaining-a-token/ class=md-nav__link> <span class=md-ellipsis> Obtaining a Token </span> </a> </li> <li class=md-nav__item> <a href=../../../../account-project-management/accounts-and-access/logging-in-with-tokens/ class=md-nav__link> <span class=md-ellipsis> Logging in with a Token </span> </a> </li> <li class=md-nav__item> <a href=../../../../account-project-management/accounts-and-access/troubleshooting-tokens/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting Tokens </span> </a> </li> <li class=md-nav__item> <a href=../../../../account-project-management/accounts-and-access/accounts-and-access-faqs/ class=md-nav__link> <span class=md-ellipsis> Accounts and Access FAQs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_4> <label class=md-nav__link for=__nav_8_4 id=__nav_8_4_label tabindex=0> <span class=md-ellipsis> Project Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_4_label aria-expanded=false> <label class=md-nav__title for=__nav_8_4> <span class="md-nav__icon md-icon"></span> Project Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../account-project-management/project-management/starting-alcf-award/ class=md-nav__link> <span class=md-ellipsis> Starting Your ALCF Award </span> </a> </li> <li class=md-nav__item> <a href=../../../../account-project-management/project-management/team-management/ class=md-nav__link> <span class=md-ellipsis> Managing Your Team Members </span> </a> </li> <li class=md-nav__item> <a href=../../../../account-project-management/project-management/project-reports/ class=md-nav__link> <span class=md-ellipsis> Reporting </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5> <div class="md-nav__link md-nav__container"> <a href=../../../../account-project-management/allocation-management/ class="md-nav__link "> <span class=md-ellipsis> Allocations </span> </a> <label class="md-nav__link " for=__nav_8_5 id=__nav_8_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_5_label aria-expanded=false> <label class=md-nav__title for=__nav_8_5> <span class="md-nav__icon md-icon"></span> Allocations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../account-project-management/allocation-management/allocation-management/ class=md-nav__link> <span class=md-ellipsis> Managing Your Allocations </span> </a> </li> <li class=md-nav__item> <a href=../../../../account-project-management/allocation-management/sbank-allocation-accounting-system/ class=md-nav__link> <span class=md-ellipsis> sbank Allocation Accounting System </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__container"> <a href=../../../../policies/ class="md-nav__link "> <span class=md-ellipsis> Facility Policies </span> </a> <label class="md-nav__link " for=__nav_9 id=__nav_9_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Facility Policies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../policies/alcf-acknowledgement-policy/ class=md-nav__link> <span class=md-ellipsis> ALCF Acknowledgement Policy </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_3> <div class="md-nav__link md-nav__container"> <a href=../../../../policies/accounts/ class="md-nav__link "> <span class=md-ellipsis> Account Policies </span> </a> <label class="md-nav__link " for=__nav_9_3 id=__nav_9_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_3> <span class="md-nav__icon md-icon"></span> Account Policies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../policies/accounts/account-sponsorship-retention-policy/ class=md-nav__link> <span class=md-ellipsis> Account Sponsorship & Retention Policy </span> </a> </li> <li class=md-nav__item> <a href=../../../../policies/accounts/user-authentication-policy/ class=md-nav__link> <span class=md-ellipsis> User Authentication Policy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_4> <div class="md-nav__link md-nav__container"> <a href=../../../../policies/queue-scheduling/ class="md-nav__link "> <span class=md-ellipsis> Scheduling Policies </span> </a> <label class="md-nav__link " for=__nav_9_4 id=__nav_9_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> Scheduling Policies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../policies/queue-scheduling/refund-policy/ class=md-nav__link> <span class=md-ellipsis> Refund Policy </span> </a> </li> <li class=md-nav__item> <a href=../../../../policies/queue-scheduling/pullback-policy/ class=md-nav__link> <span class=md-ellipsis> Pullback Policy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5> <label class=md-nav__link for=__nav_9_5 id=__nav_9_5_label tabindex=0> <span class=md-ellipsis> Data and Software Policies </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5> <span class="md-nav__icon md-icon"></span> Data and Software Policies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../policies/data-and-software-policies/data-policy/ class=md-nav__link> <span class=md-ellipsis> Data Policy </span> </a> </li> <li class=md-nav__item> <a href=../../../../policies/data-and-software-policies/software-policy/ class=md-nav__link> <span class=md-ellipsis> Software Policy </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../acronyms/ class=md-nav__link> <span class=md-ellipsis> Acronyms </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!-- Table of Contents --> <!-- --------------------------------------------------------------------- --> <nav class="md-nav md-nav--secondary" aria-label> <label class=md-nav__title for=__toc> Table of contents </label> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#daos-overview class=md-nav__link> <span class=md-ellipsis> DAOS Overview </span> </a> </li> <li class=md-nav__item> <a href=#daos-pool-allocation class=md-nav__link> <span class=md-ellipsis> DAOS Pool Allocation </span> </a> <nav class=md-nav aria-label="DAOS Pool Allocation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#note class=md-nav__link> <span class=md-ellipsis> Note </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#modules class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> </li> <li class=md-nav__item> <a href=#pool class=md-nav__link> <span class=md-ellipsis> Pool </span> </a> </li> <li class=md-nav__item> <a href=#posix-containers class=md-nav__link> <span class=md-ellipsis> POSIX Containers </span> </a> </li> <li class=md-nav__item> <a href=#daos-agent-check class=md-nav__link> <span class=md-ellipsis> DAOS Agent Check </span> </a> </li> <li class=md-nav__item> <a href=#daos-pool-and-container-sanity-checks-is-the-daos_user-cluster-up-or-down class=md-nav__link> <span class=md-ellipsis> DAOS pool and container sanity checks (is the daos_user cluster up or down?) </span> </a> </li> <li class=md-nav__item> <a href=#posix-container-access-via-dfuse class=md-nav__link> <span class=md-ellipsis> POSIX Container Access via DFUSE </span> </a> <nav class=md-nav aria-label="POSIX Container Access via DFUSE"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-to-mount-a-posix-container-on-a-uan class=md-nav__link> <span class=md-ellipsis> 1. To mount a POSIX container on a UAN </span> </a> </li> <li class=md-nav__item> <a href=#2-to-mount-a-posix-container-on-compute-nodes class=md-nav__link> <span class=md-ellipsis> 2. To mount a POSIX container on Compute Nodes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#unclean-container-status class=md-nav__link> <span class=md-ellipsis> 'UNCLEAN' Container Status </span> </a> </li> <li class=md-nav__item> <a href=#job-submission class=md-nav__link> <span class=md-ellipsis> Job Submission </span> </a> </li> <li class=md-nav__item> <a href=#nic-and-core-binding class=md-nav__link> <span class=md-ellipsis> NIC and Core Binding </span> </a> </li> <li class=md-nav__item> <a href=#interception-library-for-posix-containers class=md-nav__link> <span class=md-ellipsis> Interception library for POSIX containers </span> </a> </li> <li class=md-nav__item> <a href=#sample-job-script class=md-nav__link> <span class=md-ellipsis> Sample job script </span> </a> </li> <li class=md-nav__item> <a href=#mpi-io-container-access class=md-nav__link> <span class=md-ellipsis> MPI-IO Container Access </span> </a> </li> <li class=md-nav__item> <a href=#dfs-container-access class=md-nav__link> <span class=md-ellipsis> DFS Container Access </span> </a> </li> <li class=md-nav__item> <a href=#example-of-pytorch-integration-pydaosdaos_torch-module class=md-nav__link> <span class=md-ellipsis> Example of PyTorch integration: pydaos.daos_torch module </span> </a> </li> <li class=md-nav__item> <a href=#daos-hardware class=md-nav__link> <span class=md-ellipsis> DAOS Hardware </span> </a> </li> <li class=md-nav__item> <a href=#darshan-profiler-for-daos class=md-nav__link> <span class=md-ellipsis> Darshan profiler for DAOS </span> </a> <nav class=md-nav aria-label="Darshan profiler for DAOS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-darshan class=md-nav__link> <span class=md-ellipsis> 1. Darshan </span> </a> </li> <li class=md-nav__item> <a href=#2-darshan-util-environment-module class=md-nav__link> <span class=md-ellipsis> 2. darshan-util environment module </span> </a> </li> <li class=md-nav__item> <a href=#3-darshan-parser-utility class=md-nav__link> <span class=md-ellipsis> 3. darshan-parser utility </span> </a> </li> <li class=md-nav__item> <a href=#4-pydarshan-library-and-python-module class=md-nav__link> <span class=md-ellipsis> 4. PyDarshan library and Python module </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cluster-size class=md-nav__link> <span class=md-ellipsis> Cluster Size </span> </a> </li> <li class=md-nav__item> <a href=#sharing-containers-with-multiple-users class=md-nav__link> <span class=md-ellipsis> Sharing containers with multiple users </span> </a> </li> <li class=md-nav__item> <a href=#known-issues-and-workarounds class=md-nav__link> <span class=md-ellipsis> Known issues and workarounds </span> </a> <nav class=md-nav aria-label="Known issues and workarounds"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-large-bulk-io-write-issue class=md-nav__link> <span class=md-ellipsis> 1. Large bulk I/O write issue </span> </a> </li> <li class=md-nav__item> <a href=#2-pydaosdaos_torch-disconnect-and-clean-up class=md-nav__link> <span class=md-ellipsis> 2. pydaos.daos_torch disconnect and clean up </span> </a> </li> <li class=md-nav__item> <a href=#3-libfabric-endpoint-creation-error class=md-nav__link> <span class=md-ellipsis> 3. Libfabric endpoint creation error </span> </a> </li> <li class=md-nav__item> <a href=#4-issue-with-the-gpu_tile_compactsh-bash-script-and-the-daos-interception-libraries class=md-nav__link> <span class=md-ellipsis> 4. Issue with the gpu_tile_compact.sh bash script and the DAOS Interception Libraries </span> </a> </li> <li class=md-nav__item> <a href=#5-na_hostunreach-errors class=md-nav__link> <span class=md-ellipsis> 5. NA_HOSTUNREACH errors </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best practices </span> </a> </li> <br> <li class=md-nav__item> <hr> <a href=https://github.com/argonne-lcf/user-guides/issues/new/choose class=md-nav__link> <span class=md-ellipsis> <strong>Does this doc need an update?<br>Open an Issue on GitHub</strong> </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/argonne-lcf/user-guides/edit/main/docs/aurora/data-management/daos/daos-overview.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/argonne-lcf/user-guides/raw/main/docs/aurora/data-management/daos/daos-overview.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=daos-architecture>DAOS Architecture<a class=headerlink href=#daos-architecture title="Permanent link">&para;</a></h1> <p>DAOS is a major file system in Aurora with 230 PB delivering up to &gt;30 TB/s with 1024 DAOS server storage Nodes. DAOS is an open-source software-defined object store designed for massively distributed Non-Volatile Memory (NVM) and NVMe <abbr title="Solid State Drive">SSD</abbr>. DAOS presents a unified storage model with a native Key-array Value storage interface supporting POSIX, MPIO, DFS and HDF5. Users can use DAOS for their I/O and checkpointing on Aurora. DAOS is fully integrated with the wider Aurora compute fabric as can be seen in the overall storage architecture below. <img alt="Aurora Storage Architecture" src=../images/aurora-storage-architecture.png title="Aurora Storage Architecture"> <img alt="Aurora Interconnect" src=../images/dragonfly.png title="Aurora Slingshot Dragonfly"></p> <h2 id=daos-overview>DAOS Overview<a class=headerlink href=#daos-overview title="Permanent link">&para;</a></h2> <p>The first step in using DAOS is to get DAOS POOL space allocated for your project. Users should submit a request as noted below to have a DAOS pool created for your project.</p> <h2 id=daos-pool-allocation>DAOS Pool Allocation<a class=headerlink href=#daos-pool-allocation title="Permanent link">&para;</a></h2> <p>DAOS pool is a physically allocated dedicated storage space for your project.</p> <p>Email <a href=mailto:support@alcf.anl.gov>support@alcf.anl.gov</a> to request a DAOS pool with the following information:</p> <ul> <li>Project Name</li> <li>ALCF User Names</li> <li>Total Space requested (typically 100 TBs++)</li> <li>Justification</li> <li>Preferred pool name</li> </ul> <h3 id=note>Note<a class=headerlink href=#note title="Permanent link">&para;</a></h3> <p>This is an initial test DAOS configuration and as such, any data on the DAOS system will eventually be deleted when the configuration is changed into a larger system. Warning will be given before the system is wiped to allow time for users to move any important data off.</p> <h2 id=modules>Modules<a class=headerlink href=#modules title="Permanent link">&para;</a></h2> <p>Please load the <code>daos</code> module when using DAOS. This should be done on the login node (<abbr title="User Access Node">UAN</abbr>) or in the compute node (jobscript):</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a>module<span class=w> </span>use<span class=w> </span>/soft/modulefiles
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>module<span class=w> </span>load<span class=w> </span>daos
</span></code></pre></div></td></tr></table></div> <h2 id=pool>Pool<a class=headerlink href=#pool title="Permanent link">&para;</a></h2> <p>A pool is a dedicated space allocated to your project. Once your pool has been allocated for your project space, confirm that you are able to query the pool:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span>&lt;pool_name&gt;
</span></code></pre></div></td></tr></table></div> <div class="language-output highlight"><span class=filename>Example output:</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=go>daos pool query hacc</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=go>Pool 050b20a3-3fcc-499b-a6cf-07d4b80b04fd, ntarget=4096, disabled=0, leader=2, version=131</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=go>Pool space info:</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=go>- Target(VOS) count:640</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=go>- Storage tier 0 (SCM):</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=go>Total size: 6.0 TB</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=go>  Free: 4.4 TB, min:6.5 GB, max:7.0 GB, mean:6.9 GB</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=go>- Storage tier 1 (NVMe):</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=go>  Total size: 200 TB</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=go>  Free: 194 TB, min:244 GB, max:308 GB, mean:303 GB</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=go>Rebuild done, 4 objs, 0 recs</span>
</span></code></pre></div> <h2 id=posix-containers>POSIX Containers<a class=headerlink href=#posix-containers title="Permanent link">&para;</a></h2> <p>In DAOS general terms, a container is a logical space within a pool where data and metadata are stored. It's essentially a self-contained object namespace and versioning space. There are several types of containers, but all of the focus in this guide and all future references will be on utilizing containers of the POSIX type in the context of the DAOS File System (DFS). DFS is essentially a POSIX emulation layer on top of DAOS and is implemented in the libdfs library, allowing a DAOS container to be accessed as a hierarchical POSIX namespace. libdfs supports files, directories, and symbolic links, but not hard links. The DAOS official documentation on DFS can be found <a href=https://docs.daos.io/v2.6/user/filesystem>here</a>.</p> <p>With more than 1024 servers at full deployment, the user-accessible cluster named <code>daos_user</code> has 16,384 solid state drives (SSDs) and 16,384 persistent memory modules, and without some amount of data redundancy a hardware failure on any one could result in the loss of your data. DAOS has several data redundancy options available, and a tradeoff must be made between data resiliency, performance, and volume. The recommended tradeoff is to specify a redundancy factor of 3 on the container for both files and directories via the <code>rd_fac:3</code> container property. By default, this means files will utilize an erasure coding algorithm with a ratio of 16 data blocks to 3 parity blocks (in DAOS file object class terms <code>EC_16P3GX</code>), which in simplest terms, means 19 blocks of erasure coding stores 16 blocks of data. For directories, the default is to create 3 full duplicates of the directory, which is basically an emulation of an inode in traditional file system terms, by setting the directory object class to <code>RP_4G1</code>. For this default setting, there is little performance tradeoff for directories at this redundancy level, since it just contains metadata.</p> <p>In the scenario with the above settings, when a server failure occurs, be it a software or hardware failure (e.g. an <abbr title="Solid State Drive">SSD</abbr>, persistent memory module, or a networking switch failure) on up to 3 servers, a process called a <em>rebuild</em> occurs. During rebuild, the data on the failed servers is reconstructed to preserve data integrity, and the servers with the failures are excluded from the cluster. The servers or network can be repaired in the future so that the servers are eventually reintegrated to the cluster. The rebuild process in this scenario does not disrupt service, and the cluster does not experience any outage. If more than 3 servers are lost (say, due to a network issue) or more servers are lost during the rebuild, then the cluster will be taken offline to conduct repairs.</p> <p>These parameters are set at container creation as follows along with others which will be described below for best practices: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a>daos<span class=w> </span>container<span class=w> </span>create<span class=w> </span>--type<span class=o>=</span>POSIX<span class=w>  </span>--chunk-size<span class=o>=</span><span class=m>2097152</span><span class=w>  </span>--properties<span class=o>=</span>rd_fac:3,ec_cell_sz:131072,cksum:crc32,srv_cksum:on<span class=w> </span>--file-oclass<span class=o>=</span>EC_16P3GX<span class=w> </span>--dir-oclass<span class=o>=</span>RP_4G1<span class=w> </span>&lt;pool<span class=w> </span>name&gt;<span class=w> </span>&lt;container<span class=w> </span>name&gt;
</span></code></pre></div></td></tr></table></div></p> <p>The chunk-size of 2 MB and the <code>ec_cell_sz</code> (erasure coding cell size) of 128 KB work together to optimally stripe the data across the 16 data servers plus 3 parity servers (19 erasure coding servers) and set the maximum amount of data written to one <abbr title="Solid State Drive">SSD</abbr> on one server by one client per transaction to the <code>ec_cell_sz</code> of 128 KB. The general rule of thumb is the chunk-size should equal the number of data servers (excluding parity servers) multiplied by the <code>ec_cell_sz</code> or at least be an even multiple of it. If your application does large amounts of IO per process, you could experiment with the settings by increasing them proportionately, e.g. setting the chunk-size to 16 MB and the <code>ec_cell_sz</code> to 1 MB. DAOS containers have a property for both server and client checksum, whereby the client will retry the data transfer to or from the server in the case of corruption, however by default this is disabled, to enable it for best performance and acceptable accuracy usage of the CRC-32 algorithm is recommended with the above parameters <code>cksum:crc32,srv_cksum:on</code>.</p> <p>Now, the <code>GX</code> in <code>EC_16P3GX</code> tells the container to stripe the data across all servers in the pool, which is optimum if your application is writing a single shared file or at most one file per node, but instead if your application is writing more than one file per node, say file per process, for best performance you should change the <code>GX</code> to <code>G32</code>, the 32 being the hard-coded number of servers the data in the file will be striped across. You can do this in one of two ways:</p> <ol> <li>Use the <code>--file-oclass</code> parameter explicitly in the container creation. The call would look like: <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>daos<span class=w> </span>container<span class=w> </span>create<span class=w> </span>--type<span class=o>=</span>POSIX<span class=w>  </span>--chunk-size<span class=o>=</span><span class=m>2097152</span><span class=w> </span>--file-oclass<span class=o>=</span>EC_16P3G32<span class=w> </span>--dir-oclass<span class=o>=</span>RP_4G1<span class=w> </span>--properties<span class=o>=</span>rd_fac:3,ec_cell_sz:131072,cksum:crc32,srv_cksum:on<span class=w> </span>&lt;pool<span class=w> </span>name&gt;<span class=w> </span>&lt;container<span class=w> </span>name&gt;
</span></code></pre></div></li> <li>Create a subdirectory in the container and set the attribute on it. For example, if your container was created with <code>EC_16P3GX</code> and you wanted a subdirectory <code>&lt;dir name&gt;</code> to have <code>EC_16P3G32</code>, mount the container (this is described in the <a href=#posix-container-access-via-dfuse>POSIX Container Access via DFUSE</a> section below) with directory <code>&lt;dir name&gt;</code> at <code>/tmp/&lt;pool name&gt;/&lt;container name&gt;</code> and then: <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>daos<span class=w> </span>fs<span class=w> </span>set-attr<span class=w> </span>--path<span class=o>=</span>/tmp/&lt;pool<span class=w> </span>name&gt;/&lt;container<span class=w> </span>name&gt;/&lt;dir<span class=w> </span>name&gt;<span class=w> </span>--oclass<span class=o>=</span>EC_16P3G32
</span></code></pre></div> By default any top-level directory created in a container will inherit the directory and file object class from the container, and any subdirectory inherits from its parent, so in this fashion you can change the default and have a mix of file object classes in the same container.</li> </ol> <p>There is maintenance overhead with containers, therefore it is advisable to create just one or a few containers and create multiple directories in the few containers to partition your work.</p> <p><img alt="data model" src=../images/datamodel.png title="DAOS data model"></p> <h2 id=daos-agent-check>DAOS Agent Check<a class=headerlink href=#daos-agent-check title="Permanent link">&para;</a></h2> <p>Whether you are accessing DAOS when running a job from a compute node or managing data from a login node, the DAOS agent daemon is needed to connect the DAOS client to the DAOS server cluster, in your case <code>daos_user</code>. The DAOS agent facilitates all authentication and communication between the DAOS clients and servers. The DAOS agent daemon should always be running for the <code>daos_user</code> cluster on the UANs, however on the compute nodes the <code>daos_user</code> agent is only started in the PBS prologue specified via the <code>-l filesystems=daos_user_fs</code> resource requirement, and is terminated in the PBS epilogue. To verify that it is running, first load the <code>daos</code> module:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span>
<span class=normal><a href=#__codelineno-6-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a>module<span class=w> </span>use<span class=w> </span>/soft/modulefiles
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2></a>module<span class=w> </span>load<span class=w> </span>daos
</span></code></pre></div></td></tr></table></div> <p>Then to verify the DAOS daemon process for <code>daos_user</code> is running, run this command:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>daos
</span></code></pre></div></td></tr></table></div> <p>Additionally on the compute nodes, you can run this <code>clush</code> command to check if the agent is running on all nodes in the job:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a>clush<span class=w> </span>--hostfile<span class=w> </span><span class=si>${</span><span class=nv>PBS_NODEFILE</span><span class=si>}</span><span class=w> </span>ps<span class=w> </span>â€“ef<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>agent<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-v<span class=w> </span>grep<span class=err>&#39;</span><span class=w>  </span><span class=p>|</span><span class=w> </span>dshbak<span class=w> </span>-c
</span></code></pre></div></td></tr></table></div> <p>On the UANs there may be several agents running for different clusters so you may get several lines of output (on the compute node you will get only one), but the one for daos_user is named <code>daos_agent_oneScratch</code> and looks like this:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1></a>daos_ag+<span class=w>   </span><span class=m>6431</span><span class=w>      </span><span class=m>1</span><span class=w>  </span><span class=m>0</span><span class=w> </span>Jul21<span class=w> </span>?<span class=w>        </span><span class=m>00</span>:00:12<span class=w> </span>/usr/bin/daos_agent<span class=w> </span>--config-path<span class=o>=</span>/etc/daos/daos_agent_oneScratch.yml<span class=w> </span>--runtime_dir<span class=o>=</span>/run/daos_agent_oneScratch<span class=w> </span>--logfile<span class=o>=</span>/var/log/daos_agent/daos_agent_oneScratch.log
</span></code></pre></div></td></tr></table></div> <p>Then verify the daos_user agent will be the one used by the DAOS client:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1></a><span class=nb>echo</span><span class=w> </span><span class=nv>$DAOS_AGENT_DRPC_DIR</span>
</span></code></pre></div></td></tr></table></div> <p>You should then see this:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a>/run/daos_agent_oneScratch
</span></code></pre></div></td></tr></table></div> <h2 id=daos-pool-and-container-sanity-checks-is-the-daos_user-cluster-up-or-down>DAOS pool and container sanity checks (is the daos_user cluster up or down?)<a class=headerlink href=#daos-pool-and-container-sanity-checks-is-the-daos_user-cluster-up-or-down title="Permanent link">&para;</a></h2> <p>If any of the following command results in an error, then you can confirm the daos_user cluster is currently down</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1> 1</a></span>
<span class=normal><a href=#__codelineno-12-2> 2</a></span>
<span class=normal><a href=#__codelineno-12-3> 3</a></span>
<span class=normal><a href=#__codelineno-12-4> 4</a></span>
<span class=normal><a href=#__codelineno-12-5> 5</a></span>
<span class=normal><a href=#__codelineno-12-6> 6</a></span>
<span class=normal><a href=#__codelineno-12-7> 7</a></span>
<span class=normal><a href=#__codelineno-12-8> 8</a></span>
<span class=normal><a href=#__codelineno-12-9> 9</a></span>
<span class=normal><a href=#__codelineno-12-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a>Note<span class=w> </span>qsub<span class=w> </span>...<span class=w> </span>-l<span class=w> </span><span class=nv>filesystems</span><span class=o>=</span>flare:daos_user_fs
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a>module<span class=w> </span>use<span class=w> </span>/soft/modulefiles
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a>module<span class=w> </span>load<span class=w> </span>daos
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a><span class=nb>export</span><span class=w> </span><span class=nv>DAOS_POOL</span><span class=o>=</span>Your_allocated_pool_name
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6></a><span class=nb>export</span><span class=w> </span><span class=nv>DAOS_CONTAINER</span><span class=o>=</span>any_label_name
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7></a>daos<span class=w> </span>container<span class=w> </span>create<span class=w> </span>--type<span class=o>=</span>POSIX<span class=w>  </span>--chunk-size<span class=o>=</span><span class=m>2097152</span><span class=w>  </span>--properties<span class=o>=</span>rd_fac:3,ec_cell_sz:131072,cksum:crc32,srv_cksum:on<span class=w> </span>--file-oclass<span class=o>=</span>EC_16P3GX<span class=w> </span>--dir-oclass<span class=o>=</span>RP_4G1<span class=w>  </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w> </span><span class=si>${</span><span class=nv>DAOS_CONTAINER</span><span class=si>}</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9></a>daos<span class=w> </span>cont<span class=w> </span>list<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10></a>daos<span class=w> </span>container<span class=w> </span>get-prop<span class=w>  </span><span class=nv>$DAOS_POOL</span><span class=w>  </span><span class=nv>$DAOS_CONTAINER</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>Look for messages like <code>Rebuild busy and state degraded in the daos pool query.</code></li> <li>'Out of group or member list' error is an exception and can be safely ignored. This error message will be fixed in the next DAOS release.</li> </ul> <p>You can also use the following commands for further diagnosis.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>daos<span class=w> </span>pool<span class=w>      </span>autotest<span class=w>  </span><span class=nv>$DAOS_POOL</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>daos<span class=w> </span>container<span class=w> </span>check<span class=w> </span>--pool<span class=o>=</span><span class=nv>$DAOS_POOL</span><span class=w> </span>--cont<span class=o>=</span><span class=nv>$DAOS_CONTAINER</span>
</span></code></pre></div> <p>There are example programs and job scripts provided under <code>/soft/daos/examples/</code>.</p> <h2 id=posix-container-access-via-dfuse>POSIX Container Access via DFUSE<a class=headerlink href=#posix-container-access-via-dfuse title="Permanent link">&para;</a></h2> <p>DAOS POSIX container access can be accomplished with no application code modifications needed through DAOS filesystem (DFS) dfuse mount points for both the compute and UANs. Once mounted, you can access files in the container as you normally would via POSIX file system commands. Currently, this must be done manually prior to use on any node on which you are working. In the future, we hope to automate some of this via additional <code>qsub</code> options.</p> <h4 id=1-to-mount-a-posix-container-on-a-uan>1. To mount a POSIX container on a <abbr title="User Access Node">UAN</abbr><a class=headerlink href=#1-to-mount-a-posix-container-on-a-uan title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1> 1</a></span>
<span class=normal><a href=#__codelineno-14-2> 2</a></span>
<span class=normal><a href=#__codelineno-14-3> 3</a></span>
<span class=normal><a href=#__codelineno-14-4> 4</a></span>
<span class=normal><a href=#__codelineno-14-5> 5</a></span>
<span class=normal><a href=#__codelineno-14-6> 6</a></span>
<span class=normal><a href=#__codelineno-14-7> 7</a></span>
<span class=normal><a href=#__codelineno-14-8> 8</a></span>
<span class=normal><a href=#__codelineno-14-9> 9</a></span>
<span class=normal><a href=#__codelineno-14-10>10</a></span>
<span class=normal><a href=#__codelineno-14-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2></a>start-dfuse.sh<span class=w> </span>-m<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span>--pool<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w> </span>--cont<span class=w> </span><span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1># To mount</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3></a>mount<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>dfuse<span class=w> </span><span class=c1># To confirm if its mounted</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4></a>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5></a><span class=c1># Mode 1</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6></a>ls<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7></a><span class=nb>cd</span><span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8></a>cp<span class=w> </span>~/temp.txt<span class=w> </span>~<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>/
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9></a>cat<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>/temp.txt
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10></a>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11></a>fusermount3<span class=w> </span>-u<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1># To unmount - very important to clean up afterward on the UAN</span>
</span></code></pre></div></td></tr></table></div> <h4 id=2-to-mount-a-posix-container-on-compute-nodes>2. To mount a POSIX container on Compute Nodes<a class=headerlink href=#2-to-mount-a-posix-container-on-compute-nodes title="Permanent link">&para;</a></h4> <p>You need to mount the container on all compute nodes. This is done via the <code>launch-dfuse.sh</code> script which does a <code>clush</code> command of <code>start-dfuse.sh</code>:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1>1</a></span>
<span class=normal><a href=#__codelineno-15-2>2</a></span>
<span class=normal><a href=#__codelineno-15-3>3</a></span>
<span class=normal><a href=#__codelineno-15-4>4</a></span>
<span class=normal><a href=#__codelineno-15-5>5</a></span>
<span class=normal><a href=#__codelineno-15-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1></a>launch-dfuse.sh<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>:<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1># launched using clush on all compute nodes mounted at: /tmp/&lt;pool&gt;/&lt;container&gt;</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2></a>mount<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>dfuse<span class=w> </span><span class=c1># To confirm if its mounted</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4></a>ls<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>/
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5></a>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6></a>clean-dfuse.sh<span class=w>  </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>:<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1># To unmount on all nodes - optional on compute nodes as PBS epilogue script does this for you</span>
</span></code></pre></div></td></tr></table></div> <p>DAOS Data mover instruction is provided at <a href=../../moving_data_to_aurora/daos_datamover/ >here</a>.</p> <h2 id=unclean-container-status>'UNCLEAN' Container Status<a class=headerlink href=#unclean-container-status title="Permanent link">&para;</a></h2> <p>If you get an error trying to access your container (such as on the dfuse container mount) your container may have a status of 'UNCLEAN'. You can check this with the following command:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a>daos<span class=w> </span>cont<span class=w> </span>get-prop<span class=w> </span>&lt;pool<span class=w> </span>name&gt;<span class=w> </span>&lt;container<span class=w> </span>name&gt;
</span></code></pre></div></td></tr></table></div> <p>You should see output with the 'Health' property set to 'UNCLEAN':</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>Properties<span class=w> </span><span class=k>for</span><span class=w> </span>container<span class=w> </span>posix-ec16p2gx-crc32
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>Name<span class=w>                                             </span>Value
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>----<span class=w>                                             </span>-----
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>...
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>Health<span class=w> </span><span class=o>(</span>status<span class=o>)</span><span class=w>                                  </span>UNCLEAN
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>...
</span></code></pre></div> <p>This 'UNCLEAN' status indicates that the DAOS system has had a temporary loss of redundancy which may or may not have resulted in corruption of the metadata (including directory structures) or the data itself. In order to investigate to determine if there is actual metadata or data corruption, you will first need to be able to access the container by explicitly setting the status of the container to HEALTHY:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-18-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1></a>daos<span class=w> </span>cont<span class=w> </span>set-prop<span class=w> </span>&lt;pool<span class=w> </span>name&gt;<span class=w> </span>&lt;container<span class=w> </span>name&gt;<span class=w> </span>status:HEALTHY
</span></code></pre></div></td></tr></table></div> <p>To check on metadata corruption run this DAOS filesystem command to have DAOS check for metadata corruption.:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-19-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1></a>daos<span class=w> </span>fs<span class=w> </span>check<span class=w> </span>--flags<span class=o>=</span>evict<span class=w> </span>&lt;pool<span class=w> </span>name&gt;<span class=w> </span>&lt;container<span class=w> </span>name&gt;
</span></code></pre></div></td></tr></table></div> <p>If the metadata is ok you should see something like this:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-20-1>1</a></span>
<span class=normal><a href=#__codelineno-20-2>2</a></span>
<span class=normal><a href=#__codelineno-20-3>3</a></span>
<span class=normal><a href=#__codelineno-20-4>4</a></span>
<span class=normal><a href=#__codelineno-20-5>5</a></span>
<span class=normal><a href=#__codelineno-20-6>6</a></span>
<span class=normal><a href=#__codelineno-20-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1></a>DFS<span class=w> </span>checker:<span class=w> </span>Start<span class=w> </span><span class=o>(</span><span class=m>2025</span>-07-17-19:23:14<span class=o>)</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2></a>DFS<span class=w> </span>checker:<span class=w> </span>Create<span class=w> </span>OIT<span class=w> </span>table
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3></a>DFS<span class=w> </span>checker:<span class=w> </span>Iterating<span class=w> </span>namespace<span class=w> </span>and<span class=w> </span>marking<span class=w> </span>objects
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4></a>DFS<span class=w> </span>checker:<span class=w> </span>marked<span class=w> </span><span class=m>836</span><span class=w> </span>files/directories<span class=w> </span><span class=o>(</span>runtime:<span class=w> </span><span class=m>3</span><span class=w> </span>sec<span class=o>))</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5></a>DFS<span class=w> </span>checker:<span class=w> </span>Checking<span class=w> </span>unmarked<span class=w> </span>OIDs<span class=w> </span><span class=o>(</span>Pass<span class=w> </span><span class=m>1</span><span class=o>)</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6></a>DFS<span class=w> </span>checker:<span class=w> </span>Done!<span class=w> </span><span class=o>(</span>runtime:<span class=w> </span><span class=m>4</span><span class=w> </span>sec<span class=o>)</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7></a>DFS<span class=w> </span>checker:<span class=w> </span>Number<span class=w> </span>of<span class=w> </span>leaked<span class=w> </span>OIDs<span class=w> </span><span class=k>in</span><span class=w> </span><span class=nv>namespace</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>0</span>
</span></code></pre></div></td></tr></table></div> <p>However if you see failure messages or the 'Number of leaked OIDs in namespace' is greater than 0 then you have metadata corruption. Otherwise, the next step is to manually manually verify the data correctness yourself, by whatever means is appropriate (i.e. loading data into your simulator, loading the data into analysis programs, utilizing your own checksums, or just visually inspecting the files). So if your metadata or data has been corrupted, you should report this data corruption to ALCF Support <a href=mailto:support@alcf.anl.gov>support@alcf.anl.gov</a> and someone from the DAOS team will follow up wtih you to investigate.</p> <h2 id=job-submission>Job Submission<a class=headerlink href=#job-submission title="Permanent link">&para;</a></h2> <p>The <code>-l filesystems=daos_user_fs</code> PBS resource requirement will ensure that DAOS is accessible on the compute nodes.</p> <p>Job submission without requesting DAOS:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1># replace `./pbs_script1.sh` with `-I` for an interactive job</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>qsub<span class=w> </span>-l<span class=w> </span><span class=k>select</span><span class=o>=</span><span class=m>1</span><span class=w> </span>-l<span class=w> </span><span class=nv>walltime</span><span class=o>=</span><span class=m>01</span>:00:00<span class=w> </span>-A<span class=w> </span>&lt;ProjectName&gt;<span class=w> </span>-k<span class=w> </span>doe<span class=w> </span>-l<span class=w> </span><span class=nv>filesystems</span><span class=o>=</span>flare<span class=w> </span>-q<span class=w> </span>debug<span class=w> </span>./pbs_script1.sh
</span></code></pre></div> <p>Job submission with DAOS:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>qsub<span class=w> </span>-l<span class=w> </span><span class=k>select</span><span class=o>=</span><span class=m>1</span><span class=w> </span>-l<span class=w> </span><span class=nv>walltime</span><span class=o>=</span><span class=m>01</span>:00:00<span class=w> </span>-A<span class=w> </span>&lt;ProjectName&gt;<span class=w> </span>-k<span class=w> </span>doe<span class=w> </span>-l<span class=w> </span><span class=nv>filesystems</span><span class=o>=</span>flare:daos_user_fs<span class=w> </span>-q<span class=w> </span>debug<span class=w> </span>./pbs_script1.sh
</span></code></pre></div> <h2 id=nic-and-core-binding><abbr title="Network Interface Card">NIC</abbr> and Core Binding<a class=headerlink href=#nic-and-core-binding title="Permanent link">&para;</a></h2> <p>Each Aurora compute node has 8 NICs and each DAOS server node has 2 NICs. Each <abbr title="Network Interface Card">NIC</abbr> is capable of driving 20-25 GB/s unidirectional for data transfer. Every read and write goes over the <abbr title="Network Interface Card">NIC</abbr> and hence <abbr title="Network Interface Card">NIC</abbr> binding is the key to achieve good performance.</p> <p>For 12 PPN, the following binding is recommended:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=nv>CPU_BINDING1</span><span class=o>=</span>list:4:9:14:19:20:25:56:61:66:71:74:79
</span></code></pre></div> <table> <thead> <tr> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 0</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 1</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 2</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 3</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 4</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 5</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 6</th> <th style="text-align: center;"><abbr title="Network Interface Card">NIC</abbr> 7</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">0</td> <td style="text-align: center;">1</td> <td style="text-align: center;">2</td> <td style="text-align: center;">3</td> <td style="text-align: center;">52</td> <td style="text-align: center;">53</td> <td style="text-align: center;">54</td> <td style="text-align: center;">55</td> </tr> <tr> <td style="text-align: center;"><span style=color:red>4</span></td> <td style="text-align: center;">5</td> <td style="text-align: center;">6</td> <td style="text-align: center;">7</td> <td style="text-align: center;"><span style=color:red>56</span></td> <td style="text-align: center;">57</td> <td style="text-align: center;">58</td> <td style="text-align: center;">59</td> </tr> <tr> <td style="text-align: center;">8</td> <td style="text-align: center;"><span style=color:red>9</span></td> <td style="text-align: center;">10</td> <td style="text-align: center;">11</td> <td style="text-align: center;">60</td> <td style="text-align: center;"><span style=color:red>61</span></td> <td style="text-align: center;">62</td> <td style="text-align: center;">63</td> </tr> <tr> <td style="text-align: center;">12</td> <td style="text-align: center;">13</td> <td style="text-align: center;"><span style=color:red>14</span></td> <td style="text-align: center;">15</td> <td style="text-align: center;">64</td> <td style="text-align: center;">65</td> <td style="text-align: center;"><span style=color:red>66</span></td> <td style="text-align: center;">67</td> </tr> <tr> <td style="text-align: center;">16</td> <td style="text-align: center;">17</td> <td style="text-align: center;">18</td> <td style="text-align: center;"><span style=color:red>19</span></td> <td style="text-align: center;">68</td> <td style="text-align: center;">69</td> <td style="text-align: center;">70</td> <td style="text-align: center;"><span style=color:red>71</span></td> </tr> <tr> <td style="text-align: center;"><span style=color:red>20</span></td> <td style="text-align: center;">21</td> <td style="text-align: center;">22</td> <td style="text-align: center;">23</td> <td style="text-align: center;">72</td> <td style="text-align: center;">73</td> <td style="text-align: center;"><span style=color:red>74</span></td> <td style="text-align: center;">75</td> </tr> <tr> <td style="text-align: center;">24</td> <td style="text-align: center;"><span style=color:red>25</span></td> <td style="text-align: center;">26</td> <td style="text-align: center;">27</td> <td style="text-align: center;">76</td> <td style="text-align: center;">77</td> <td style="text-align: center;">78</td> <td style="text-align: center;"><span style=color:red>79</span></td> </tr> <tr> <td style="text-align: center;">28</td> <td style="text-align: center;">29</td> <td style="text-align: center;">30</td> <td style="text-align: center;">31</td> <td style="text-align: center;">80</td> <td style="text-align: center;">81</td> <td style="text-align: center;">82</td> <td style="text-align: center;">83</td> </tr> <tr> <td style="text-align: center;">32</td> <td style="text-align: center;">33</td> <td style="text-align: center;">34</td> <td style="text-align: center;">35</td> <td style="text-align: center;">84</td> <td style="text-align: center;">85</td> <td style="text-align: center;">86</td> <td style="text-align: center;">87</td> </tr> <tr> <td style="text-align: center;">36</td> <td style="text-align: center;">37</td> <td style="text-align: center;">38</td> <td style="text-align: center;">39</td> <td style="text-align: center;">88</td> <td style="text-align: center;">89</td> <td style="text-align: center;">90</td> <td style="text-align: center;">91</td> </tr> <tr> <td style="text-align: center;">40</td> <td style="text-align: center;">41</td> <td style="text-align: center;">42</td> <td style="text-align: center;">43</td> <td style="text-align: center;">92</td> <td style="text-align: center;">93</td> <td style="text-align: center;">94</td> <td style="text-align: center;">95</td> </tr> <tr> <td style="text-align: center;">44</td> <td style="text-align: center;">45</td> <td style="text-align: center;">46</td> <td style="text-align: center;">47</td> <td style="text-align: center;">96</td> <td style="text-align: center;">97</td> <td style="text-align: center;">98</td> <td style="text-align: center;">99</td> </tr> <tr> <td style="text-align: center;">48</td> <td style="text-align: center;">49</td> <td style="text-align: center;">50</td> <td style="text-align: center;">51</td> <td style="text-align: center;">100</td> <td style="text-align: center;">101</td> <td style="text-align: center;">102</td> <td style="text-align: center;">103</td> </tr> </tbody> </table> <p>: Sample <abbr title="Network Interface Card">NIC</abbr> to Core binding</p> <h2 id=interception-library-for-posix-containers>Interception library for POSIX containers<a class=headerlink href=#interception-library-for-posix-containers title="Permanent link">&para;</a></h2> <p>The interception library (IL) is a next step in improving DAOS performance. This provides kernel-bypass for I/O data, leading to improved performance. The <code>libioil</code> IL will intercept basic read and write POSIX calls while all metadata calls still go through dFuse. The <code>libpil4dfs</code> IL should be used for both data and metadata calls to go through dFuse.</p> <p>The IL can provide a large performance improvement for bulk I/O as it bypasses the kernel and commuNICates with DAOS directly in userspace. It will also take advantage of the multiple NICs on the node based on how many MPI processes are running on the node and which CPU socket they are on.</p> <p><img alt="Interception library" src=../images/interception.png title="Interception library"></p> <div class="language-bash highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Interception library for POSIX mode</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-24-1>1</a></span>
<span class=normal><a href=#__codelineno-24-2>2</a></span>
<span class=normal><a href=#__codelineno-24-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1></a>mpiexec<span class=w>                                            </span><span class=c1># no interception</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2></a>mpiexec<span class=w> </span>--env<span class=w> </span><span class=nv>LD_PRELOAD</span><span class=o>=</span>/usr/lib64/libioil.so<span class=w>     </span><span class=c1># only data is intercepted</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3></a>mpiexec<span class=w> </span>--env<span class=w> </span><span class=nv>LD_PRELOAD</span><span class=o>=</span>/usr/lib64/libpil4dfs.so<span class=w>  </span><span class=c1># preferred - both metadata and data is intercepted. This provides close to DFS mode performance.</span>
</span></code></pre></div></td></tr></table></div> <h2 id=sample-job-script>Sample job script<a class=headerlink href=#sample-job-script title="Permanent link">&para;</a></h2> <p>Currently, <code>--no-vni</code> is required in the <code>mpiexec</code> command to use DAOS.</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-25-1> 1</a></span>
<span class=normal><a href=#__codelineno-25-2> 2</a></span>
<span class=normal><a href=#__codelineno-25-3> 3</a></span>
<span class=normal><a href=#__codelineno-25-4> 4</a></span>
<span class=normal><a href=#__codelineno-25-5> 5</a></span>
<span class=normal><a href=#__codelineno-25-6> 6</a></span>
<span class=normal><a href=#__codelineno-25-7> 7</a></span>
<span class=normal><a href=#__codelineno-25-8> 8</a></span>
<span class=normal><a href=#__codelineno-25-9> 9</a></span>
<span class=normal><a href=#__codelineno-25-10>10</a></span>
<span class=normal><a href=#__codelineno-25-11>11</a></span>
<span class=normal><a href=#__codelineno-25-12>12</a></span>
<span class=normal><a href=#__codelineno-25-13>13</a></span>
<span class=normal><a href=#__codelineno-25-14>14</a></span>
<span class=normal><a href=#__codelineno-25-15>15</a></span>
<span class=normal><a href=#__codelineno-25-16>16</a></span>
<span class=normal><a href=#__codelineno-25-17>17</a></span>
<span class=normal><a href=#__codelineno-25-18>18</a></span>
<span class=normal><a href=#__codelineno-25-19>19</a></span>
<span class=normal><a href=#__codelineno-25-20>20</a></span>
<span class=normal><a href=#__codelineno-25-21>21</a></span>
<span class=normal><a href=#__codelineno-25-22>22</a></span>
<span class=normal><a href=#__codelineno-25-23>23</a></span>
<span class=normal><a href=#__codelineno-25-24>24</a></span>
<span class=normal><a href=#__codelineno-25-25>25</a></span>
<span class=normal><a href=#__codelineno-25-26>26</a></span>
<span class=normal><a href=#__codelineno-25-27>27</a></span>
<span class=normal><a href=#__codelineno-25-28>28</a></span>
<span class=normal><a href=#__codelineno-25-29>29</a></span>
<span class=normal><a href=#__codelineno-25-30>30</a></span>
<span class=normal><a href=#__codelineno-25-31>31</a></span>
<span class=normal><a href=#__codelineno-25-32>32</a></span>
<span class=normal><a href=#__codelineno-25-33>33</a></span>
<span class=normal><a href=#__codelineno-25-34>34</a></span>
<span class=normal><a href=#__codelineno-25-35>35</a></span>
<span class=normal><a href=#__codelineno-25-36>36</a></span>
<span class=normal><a href=#__codelineno-25-37>37</a></span>
<span class=normal><a href=#__codelineno-25-38>38</a></span>
<span class=normal><a href=#__codelineno-25-39>39</a></span>
<span class=normal><a href=#__codelineno-25-40>40</a></span>
<span class=normal><a href=#__codelineno-25-41>41</a></span>
<span class=normal><a href=#__codelineno-25-42>42</a></span>
<span class=normal><a href=#__codelineno-25-43>43</a></span>
<span class=normal><a href=#__codelineno-25-44>44</a></span>
<span class=normal><a href=#__codelineno-25-45>45</a></span>
<span class=normal><a href=#__codelineno-25-46>46</a></span>
<span class=normal><a href=#__codelineno-25-47>47</a></span>
<span class=normal><a href=#__codelineno-25-48>48</a></span>
<span class=normal><a href=#__codelineno-25-49>49</a></span>
<span class=normal><a href=#__codelineno-25-50>50</a></span>
<span class=normal><a href=#__codelineno-25-51>51</a></span>
<span class=normal><a href=#__codelineno-25-52>52</a></span>
<span class=normal><a href=#__codelineno-25-53>53</a></span>
<span class=normal><a href=#__codelineno-25-54>54</a></span>
<span class=normal><a href=#__codelineno-25-55>55</a></span>
<span class=normal><a href=#__codelineno-25-56>56</a></span>
<span class=normal><a href=#__codelineno-25-57>57</a></span>
<span class=normal><a href=#__codelineno-25-58>58</a></span>
<span class=normal><a href=#__codelineno-25-59>59</a></span>
<span class=normal><a href=#__codelineno-25-60>60</a></span>
<span class=normal><a href=#__codelineno-25-61>61</a></span>
<span class=normal><a href=#__codelineno-25-62>62</a></span>
<span class=normal><a href=#__codelineno-25-63>63</a></span>
<span class=normal><a href=#__codelineno-25-64>64</a></span>
<span class=normal><a href=#__codelineno-25-65>65</a></span>
<span class=normal><a href=#__codelineno-25-66>66</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1></a><span class=ch>#!/bin/bash -x</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2></a><span class=c1>#PBS -l select=512</span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3></a><span class=c1>#PBS -l walltime=01:00:00</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4></a><span class=c1>#PBS -A &lt;ProjectName&gt;</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5></a><span class=c1>#PBS -q prod</span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6></a><span class=c1>#PBS -k doe</span>
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7></a><span class=c1>#PBS -l filesystems=flare:daos_user_fs</span>
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8></a>
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9></a><span class=c1># qsub -l select=512:ncpus=208 -l walltime=01:00:00 -A &lt;ProjectName&gt; -l filesystems=flare:daos_user_fs -q prod ./pbs_script.sh or - I</span>
</span><span id=__span-25-10><a id=__codelineno-25-10 name=__codelineno-25-10></a>
</span><span id=__span-25-11><a id=__codelineno-25-11 name=__codelineno-25-11></a><span class=c1># please do not miss -l filesystems=daos_user_fs and in your qsub :&#39;(</span>
</span><span id=__span-25-12><a id=__codelineno-25-12 name=__codelineno-25-12></a>
</span><span id=__span-25-13><a id=__codelineno-25-13 name=__codelineno-25-13></a><span class=nb>export</span><span class=w> </span><span class=nv>TZ</span><span class=o>=</span><span class=s1>&#39;/usr/share/zoneinfo/US/Central&#39;</span>
</span><span id=__span-25-14><a id=__codelineno-25-14 name=__codelineno-25-14></a>date
</span><span id=__span-25-15><a id=__codelineno-25-15 name=__codelineno-25-15></a>module<span class=w> </span>use<span class=w> </span>/soft/modulefiles
</span><span id=__span-25-16><a id=__codelineno-25-16 name=__codelineno-25-16></a>module<span class=w> </span>load<span class=w> </span>daos
</span><span id=__span-25-17><a id=__codelineno-25-17 name=__codelineno-25-17></a><span class=nb>echo</span><span class=w> </span><span class=nv>$DAOS_AGENT_DRPC_DIR</span><span class=w>                           </span><span class=c1>#optional</span>
</span><span id=__span-25-18><a id=__codelineno-25-18 name=__codelineno-25-18></a>ps<span class=w> </span>-ef<span class=p>|</span>grep<span class=w> </span>daos<span class=w>                                    </span><span class=c1>#optional</span>
</span><span id=__span-25-19><a id=__codelineno-25-19 name=__codelineno-25-19></a>clush<span class=w> </span>--hostfile<span class=w> </span><span class=si>${</span><span class=nv>PBS_NODEFILE</span><span class=si>}</span><span class=w>  </span><span class=s1>&#39;ps -ef|grep agent|grep -v grep&#39;</span><span class=w>  </span><span class=p>|</span><span class=w> </span>dshbak<span class=w> </span>-c<span class=w>  </span><span class=c1>#optional</span>
</span><span id=__span-25-20><a id=__codelineno-25-20 name=__codelineno-25-20></a><span class=nv>DAOS_POOL</span><span class=o>=</span>datascience
</span><span id=__span-25-21><a id=__codelineno-25-21 name=__codelineno-25-21></a><span class=nv>DAOS_CONT</span><span class=o>=</span>thundersvm_exp1
</span><span id=__span-25-22><a id=__codelineno-25-22 name=__codelineno-25-22></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>                        </span><span class=c1>#optional</span>
</span><span id=__span-25-23><a id=__codelineno-25-23 name=__codelineno-25-23></a>daos<span class=w> </span>cont<span class=w> </span>list<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>                         </span><span class=c1>#optional</span>
</span><span id=__span-25-24><a id=__codelineno-25-24 name=__codelineno-25-24></a>daos<span class=w> </span>container<span class=w> </span>destroy<span class=w>   </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>  </span><span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1>#optional</span>
</span><span id=__span-25-25><a id=__codelineno-25-25 name=__codelineno-25-25></a>daos<span class=w> </span>container<span class=w> </span>create<span class=w> </span>--type<span class=o>=</span>POSIX<span class=w>  </span>--chunk-size<span class=o>=</span><span class=m>2097152</span><span class=w>  </span>--properties<span class=o>=</span>rd_fac:3,ec_cell_sz:131072,cksum:crc32,srv_cksum:on<span class=w> </span>--file-oclass<span class=o>=</span>EC_16P3GX<span class=w> </span>--dir-oclass<span class=o>=</span>RP_4G1<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>  </span><span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>
</span><span id=__span-25-26><a id=__codelineno-25-26 name=__codelineno-25-26></a>daos<span class=w> </span>container<span class=w> </span>query<span class=w>     </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>  </span><span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1>#optional</span>
</span><span id=__span-25-27><a id=__codelineno-25-27 name=__codelineno-25-27></a>daos<span class=w> </span>container<span class=w> </span>get-prop<span class=w>  </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>  </span><span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1>#optional</span>
</span><span id=__span-25-28><a id=__codelineno-25-28 name=__codelineno-25-28></a>daos<span class=w> </span>container<span class=w> </span>list<span class=w>      </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span><span class=w>               </span><span class=c1>#optional</span>
</span><span id=__span-25-29><a id=__codelineno-25-29 name=__codelineno-25-29></a>launch-dfuse.sh<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>:<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w>           </span><span class=c1># To mount on a compute node</span>
</span><span id=__span-25-30><a id=__codelineno-25-30 name=__codelineno-25-30></a>
</span><span id=__span-25-31><a id=__codelineno-25-31 name=__codelineno-25-31></a><span class=c1># mkdir -p /tmp/${USER}/${DAOS_POOL}/${DAOS_CONT}           # To mount on a login node</span>
</span><span id=__span-25-32><a id=__codelineno-25-32 name=__codelineno-25-32></a><span class=c1># start-dfuse.sh -m /tmp/${USER}/${DAOS_POOL}/${DAOS_CONT}     --pool ${DAOS_POOL} --cont ${DAOS_CONT}  # To mount on a login node</span>
</span><span id=__span-25-33><a id=__codelineno-25-33 name=__codelineno-25-33></a>
</span><span id=__span-25-34><a id=__codelineno-25-34 name=__codelineno-25-34></a>mount<span class=p>|</span>grep<span class=w> </span>dfuse<span class=w>                                    </span><span class=c1>#optional</span>
</span><span id=__span-25-35><a id=__codelineno-25-35 name=__codelineno-25-35></a>ls<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>USER</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w>         </span><span class=c1>#optional for login node</span>
</span><span id=__span-25-36><a id=__codelineno-25-36 name=__codelineno-25-36></a>ls<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w>                   </span><span class=c1>#optional for compute node</span>
</span><span id=__span-25-37><a id=__codelineno-25-37 name=__codelineno-25-37></a>
</span><span id=__span-25-38><a id=__codelineno-25-38 name=__codelineno-25-38></a><span class=c1># cp /lus/flare/projects/CSC250STDM10_CNDA/kaushik/thundersvm/input_data/real-sim_M100000_K25000_S0.836 /tmp/${DAOS_POOL}/${DAOS_CONT} #one time</span>
</span><span id=__span-25-39><a id=__codelineno-25-39 name=__codelineno-25-39></a><span class=c1># daos filesystem copy --src /lus/flare/projects/CSC250STDM10_CNDA/kaushik/thundersvm/input_data/real-sim_M100000_K25000_S0.836 --dst daos://tmp/${DAOS_POOL}/${DAOS_CONT}  # check https://docs.daos.io/v2.4/testing/datamover/</span>
</span><span id=__span-25-40><a id=__codelineno-25-40 name=__codelineno-25-40></a>
</span><span id=__span-25-41><a id=__codelineno-25-41 name=__codelineno-25-41></a>
</span><span id=__span-25-42><a id=__codelineno-25-42 name=__codelineno-25-42></a><span class=nb>cd</span><span class=w> </span><span class=nv>$PBS_O_WORKDIR</span>
</span><span id=__span-25-43><a id=__codelineno-25-43 name=__codelineno-25-43></a><span class=nb>echo</span><span class=w> </span>Jobid:<span class=w> </span><span class=nv>$PBS_JOBID</span>
</span><span id=__span-25-44><a id=__codelineno-25-44 name=__codelineno-25-44></a><span class=nb>echo</span><span class=w> </span>Running<span class=w> </span>on<span class=w> </span>nodes<span class=w> </span><span class=sb>`</span>cat<span class=w> </span><span class=nv>$PBS_NODEFILE</span><span class=sb>`</span>
</span><span id=__span-25-45><a id=__codelineno-25-45 name=__codelineno-25-45></a><span class=nv>NNODES</span><span class=o>=</span><span class=sb>`</span>wc<span class=w> </span>-l<span class=w> </span>&lt;<span class=w> </span><span class=nv>$PBS_NODEFILE</span><span class=sb>`</span>
</span><span id=__span-25-46><a id=__codelineno-25-46 name=__codelineno-25-46></a><span class=nv>RANKS_PER_NODE</span><span class=o>=</span><span class=m>12</span><span class=w>          </span><span class=c1># Number of MPI ranks per node</span>
</span><span id=__span-25-47><a id=__codelineno-25-47 name=__codelineno-25-47></a><span class=nv>NRANKS</span><span class=o>=</span><span class=k>$((</span><span class=w> </span><span class=nv>NNODES</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nv>RANKS_PER_NODE</span><span class=w> </span><span class=k>))</span>
</span><span id=__span-25-48><a id=__codelineno-25-48 name=__codelineno-25-48></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;NUM_OF_NODES=</span><span class=si>${</span><span class=nv>NNODES</span><span class=si>}</span><span class=s2>  TOTAL_NUM_RANKS=</span><span class=si>${</span><span class=nv>NRANKS</span><span class=si>}</span><span class=s2>  RANKS_PER_NODE=</span><span class=si>${</span><span class=nv>RANKS_PER_NODE</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-25-49><a id=__codelineno-25-49 name=__codelineno-25-49></a><span class=nv>CPU_BINDING1</span><span class=o>=</span>list:4:9:14:19:20:25:56:61:66:71:74:79
</span><span id=__span-25-50><a id=__codelineno-25-50 name=__codelineno-25-50></a>
</span><span id=__span-25-51><a id=__codelineno-25-51 name=__codelineno-25-51></a><span class=nb>export</span><span class=w> </span><span class=nv>THUN_WS_PROB_SIZE</span><span class=o>=</span><span class=m>1024</span>
</span><span id=__span-25-52><a id=__codelineno-25-52 name=__codelineno-25-52></a><span class=nb>export</span><span class=w> </span><span class=nv>ZE_FLAT_DEVICE_HIERARCHY</span><span class=o>=</span>COMPOSITE
</span><span id=__span-25-53><a id=__codelineno-25-53 name=__codelineno-25-53></a><span class=nb>export</span><span class=w> </span><span class=nv>AFFINITY_ORDERING</span><span class=o>=</span>compact
</span><span id=__span-25-54><a id=__codelineno-25-54 name=__codelineno-25-54></a><span class=nb>export</span><span class=w> </span><span class=nv>RANKS_PER_TILE</span><span class=o>=</span><span class=m>1</span>
</span><span id=__span-25-55><a id=__codelineno-25-55 name=__codelineno-25-55></a><span class=nb>export</span><span class=w> </span><span class=nv>PLATFORM_NUM_GPU</span><span class=o>=</span><span class=m>6</span>
</span><span id=__span-25-56><a id=__codelineno-25-56 name=__codelineno-25-56></a><span class=nb>export</span><span class=w> </span><span class=nv>PLATFORM_NUM_GPU_TILES</span><span class=o>=</span><span class=m>2</span>
</span><span id=__span-25-57><a id=__codelineno-25-57 name=__codelineno-25-57></a>
</span><span id=__span-25-58><a id=__codelineno-25-58 name=__codelineno-25-58></a>
</span><span id=__span-25-59><a id=__codelineno-25-59 name=__codelineno-25-59></a>date
</span><span id=__span-25-60><a id=__codelineno-25-60 name=__codelineno-25-60></a><span class=nv>LD_PRELOAD</span><span class=o>=</span>/usr/lib64/libpil4dfs.so<span class=w> </span>mpiexec<span class=w> </span>-np<span class=w> </span><span class=si>${</span><span class=nv>NRANKS</span><span class=si>}</span><span class=w> </span>-ppn<span class=w> </span><span class=si>${</span><span class=nv>RANKS_PER_NODE</span><span class=si>}</span><span class=w> </span>--cpu-bind<span class=w> </span><span class=si>${</span><span class=nv>CPU_BINDING1</span><span class=si>}</span><span class=w>  </span><span class=se>\</span>
</span><span id=__span-25-61><a id=__codelineno-25-61 name=__codelineno-25-61></a><span class=w>                                            </span>--no-vni<span class=w> </span>-genvall<span class=w>  </span>thunder/svm_mpi/run/aurora/wrapper.sh<span class=w> </span>thunder/svm_mpi/build_ws1024/bin/thundersvm-train<span class=w> </span><span class=se>\</span>
</span><span id=__span-25-62><a id=__codelineno-25-62 name=__codelineno-25-62></a><span class=w>                                            </span>-s<span class=w> </span><span class=m>0</span><span class=w> </span>-t<span class=w> </span><span class=m>2</span><span class=w> </span>-g<span class=w> </span><span class=m>1</span><span class=w> </span>-c<span class=w> </span><span class=m>10</span><span class=w> </span>-o<span class=w> </span><span class=m>1</span><span class=w>  </span>/tmp/datascience/thunder_1/real-sim_M100000_K25000_S0.836
</span><span id=__span-25-63><a id=__codelineno-25-63 name=__codelineno-25-63></a>date
</span><span id=__span-25-64><a id=__codelineno-25-64 name=__codelineno-25-64></a>
</span><span id=__span-25-65><a id=__codelineno-25-65 name=__codelineno-25-65></a>clean-dfuse.sh<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>:<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span><span class=w> </span><span class=c1>#to unmount on compute node</span>
</span><span id=__span-25-66><a id=__codelineno-25-66 name=__codelineno-25-66></a><span class=c1># fusermount3 -u /tmp/${USER}/${DAOS_POOL}/${DAOS_CONT} #to unmount on login node</span>
</span></code></pre></div></td></tr></table></div> <h2 id=mpi-io-container-access>MPI-IO Container Access<a class=headerlink href=#mpi-io-container-access title="Permanent link">&para;</a></h2> <p>The MPICH MPI-IO layer on Aurora (ROMIO) provides multiple I/O backends including one for DAOS. ROMIO can be used with dFuse and the interception library utilizing the UFS backend, but the DAOS backend will provide optimal performance. By default ROMIO will auto-detect DFS and use the DAOS backend. MPI-IO itself is a common backend for many I/O libraries, including HDF5 and PNetCDF.Â  Whether using collective I/O MPI-IO calls directly or indirectly via an I/O library, a process called collective buffering can be done where data from small non-contiguous chunks across many compute nodes in the collective is aggregated into larger contiguous buffers on a few compute nodes, referred to as aggregators, from which DFS API calls are made to write to or read from DAOS.Â  Collective buffering can improve or degrade I/O performance depending on the I/O pattern, and in the case of DAOS, disabling it can lead to I/O failures in some cases, where the I/O traffic directly from all the compute nodes in the collective to DAOS is too stressful in the form of extreme numbers of small non-contiguous data reads and writes.Â  In ROMIO there are hints that should be set to either optimally enable or disable collective buffering.Â  At this time you should explicitly enable collective buffering in the most optimal fashion, as disabling it or allowing it to default to disabled could result in I/O failures. To optimally enable collective buffering, create a file with the following contents: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-26-1>1</a></span>
<span class=normal><a href=#__codelineno-26-2>2</a></span>
<span class=normal><a href=#__codelineno-26-3>3</a></span>
<span class=normal><a href=#__codelineno-26-4>4</a></span>
<span class=normal><a href=#__codelineno-26-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1></a>romio_cb_write<span class=w> </span><span class=nb>enable</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2></a>romio_cb_read<span class=w> </span><span class=nb>enable</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3></a>cb_buffer_size<span class=w> </span><span class=m>16777216</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4></a>cb_config_list<span class=w> </span>*:8
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5></a>striping_unit<span class=w> </span><span class=m>2097152</span>
</span></code></pre></div></td></tr></table></div></p> <p>Then simply set the following environment variable at run time to point to it: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-27-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1></a><span class=nb>export</span><span class=w> </span><span class=nv>ROMIO_HINTS</span><span class=o>=</span>&lt;path<span class=w> </span>to<span class=w> </span>hints<span class=w> </span>file&gt;
</span></code></pre></div></td></tr></table></div></p> <p>If you want to verify the settings, additionally set: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-28-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1></a><span class=nb>export</span><span class=w> </span><span class=nv>ROMIO_PRINT_HINTS</span><span class=o>=</span><span class=m>1</span>
</span></code></pre></div></td></tr></table></div></p> <p>Which will print out all the ROMIO hints at run time.</p> <h2 id=dfs-container-access>DFS Container Access<a class=headerlink href=#dfs-container-access title="Permanent link">&para;</a></h2> <p>DFS is the user level API for DAOS. This API is very similar to POSIX but still has many differences that would require code changes to utilize DFS directly. The DFS API can provide the best overall performance for any scenario other than workloads which benefit from caching.</p> <div class="language-c highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Reference code for using DAOS through DFS mode and DAOS APIs</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-29-1> 1</a></span>
<span class=normal><a href=#__codelineno-29-2> 2</a></span>
<span class=normal><a href=#__codelineno-29-3> 3</a></span>
<span class=normal><a href=#__codelineno-29-4> 4</a></span>
<span class=normal><a href=#__codelineno-29-5> 5</a></span>
<span class=normal><a href=#__codelineno-29-6> 6</a></span>
<span class=normal><a href=#__codelineno-29-7> 7</a></span>
<span class=normal><a href=#__codelineno-29-8> 8</a></span>
<span class=normal><a href=#__codelineno-29-9> 9</a></span>
<span class=normal><a href=#__codelineno-29-10>10</a></span>
<span class=normal><a href=#__codelineno-29-11>11</a></span>
<span class=normal><a href=#__codelineno-29-12>12</a></span>
<span class=normal><a href=#__codelineno-29-13>13</a></span>
<span class=normal><a href=#__codelineno-29-14>14</a></span>
<span class=normal><a href=#__codelineno-29-15>15</a></span>
<span class=normal><a href=#__codelineno-29-16>16</a></span>
<span class=normal><a href=#__codelineno-29-17>17</a></span>
<span class=normal><a href=#__codelineno-29-18>18</a></span>
<span class=normal><a href=#__codelineno-29-19>19</a></span>
<span class=normal><a href=#__codelineno-29-20>20</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdlib.h&gt;</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;mpi.h&gt;</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;daos.h&gt;</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;daos_fs.h&gt;</span>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>argc</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>**</span><span class=n>argv</span><span class=p>)</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7></a><span class=p>{</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8></a><span class=w>    </span><span class=n>dfs_t</span><span class=w> </span><span class=o>*</span><span class=n>dfs</span><span class=p>;</span>
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9></a><span class=w>    </span><span class=n>d_iov_t</span><span class=w> </span><span class=n>global</span><span class=p>;</span>
</span><span id=__span-29-10><a id=__codelineno-29-10 name=__codelineno-29-10></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MPI_Init</span><span class=p>(</span><span class=o>&amp;</span><span class=n>argc</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>argv</span><span class=p>);</span>
</span><span id=__span-29-11><a id=__codelineno-29-11 name=__codelineno-29-11></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MPI_Comm_rank</span><span class=p>(</span><span class=n>MPI_COMM_WORLD</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>rank</span><span class=p>);</span>
</span><span id=__span-29-12><a id=__codelineno-29-12 name=__codelineno-29-12></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dfs_init</span><span class=p>();</span>
</span><span id=__span-29-13><a id=__codelineno-29-13 name=__codelineno-29-13></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dfs_connect</span><span class=p>(</span><span class=n>getenv</span><span class=p>(</span><span class=s>&quot;DAOS_POOL&quot;</span><span class=p>),</span><span class=w> </span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=n>getenv</span><span class=p>(</span><span class=s>&quot;DAOS_CONT&quot;</span><span class=p>),</span><span class=w> </span><span class=n>O_RDWR</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>dfs</span><span class=p>);</span>
</span><span id=__span-29-14><a id=__codelineno-29-14 name=__codelineno-29-14></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dfs_open</span><span class=p>(</span><span class=n>dfs</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=n>filename</span><span class=p>,</span><span class=w> </span><span class=n>S_IFREG</span><span class=o>|</span><span class=n>S_IRUSR</span><span class=o>|</span><span class=n>S_IWUSR</span><span class=p>,</span><span class=w>  </span><span class=n>O_CREAT</span><span class=o>|</span><span class=n>O_WRONLY</span><span class=p>,</span><span class=w>  </span><span class=n>obj_class</span><span class=p>,</span><span class=w> </span><span class=n>chunk_size</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>obj</span><span class=p>);</span>
</span><span id=__span-29-15><a id=__codelineno-29-15 name=__codelineno-29-15></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dfs_write</span><span class=p>(</span><span class=n>dfs</span><span class=p>,</span><span class=w> </span><span class=n>obj</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>sgl</span><span class=p>,</span><span class=w> </span><span class=n>off</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-29-16><a id=__codelineno-29-16 name=__codelineno-29-16></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dfs_read</span><span class=p>(</span><span class=n>dfs</span><span class=p>,</span><span class=w> </span><span class=n>obj</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>sgl</span><span class=p>,</span><span class=w> </span><span class=n>off</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>read</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-29-17><a id=__codelineno-29-17 name=__codelineno-29-17></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dfs_disconnect</span><span class=p>(</span><span class=n>dfs</span><span class=p>);</span>
</span><span id=__span-29-18><a id=__codelineno-29-18 name=__codelineno-29-18></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>daos_fini</span><span class=p>();</span>
</span><span id=__span-29-19><a id=__codelineno-29-19 name=__codelineno-29-19></a><span class=w>    </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MPI_Finalize</span><span class=p>();</span>
</span><span id=__span-29-20><a id=__codelineno-29-20 name=__codelineno-29-20></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>The full code is available on the Aurora filesystem within <code>/soft/daos/examples/src/</code></p> <h2 id=example-of-pytorch-integration-pydaosdaos_torch-module>Example of PyTorch integration: <code>pydaos.daos_torch</code> module<a class=headerlink href=#example-of-pytorch-integration-pydaosdaos_torch-module title="Permanent link">&para;</a></h2> <p>First, setup an interactive job on a compute node and initialize the environment as follows: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-30-1> 1</a></span>
<span class=normal><a href=#__codelineno-30-2> 2</a></span>
<span class=normal><a href=#__codelineno-30-3> 3</a></span>
<span class=normal><a href=#__codelineno-30-4> 4</a></span>
<span class=normal><a href=#__codelineno-30-5> 5</a></span>
<span class=normal><a href=#__codelineno-30-6> 6</a></span>
<span class=normal><a href=#__codelineno-30-7> 7</a></span>
<span class=normal><a href=#__codelineno-30-8> 8</a></span>
<span class=normal><a href=#__codelineno-30-9> 9</a></span>
<span class=normal><a href=#__codelineno-30-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1></a>qsub<span class=w> </span>...<span class=w> </span>-l<span class=w> </span>filesystem:flare,daos_perf_fs
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2></a>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3></a>module<span class=w> </span>use<span class=w> </span>/soft/modulefiles
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4></a>module<span class=w> </span>load<span class=w> </span>daos_perf
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5></a>module<span class=w> </span>load<span class=w> </span>frameworks
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6></a>launch-dfuse_perf.sh<span class=w> </span><span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>:<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7></a>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8></a><span class=nb>export</span><span class=w> </span><span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span>/lus/flare/projects/datasets/softwares/py_daos/daos_client_master_build_may2/lib64:<span class=nv>$LD_LIBRARY_PATH</span>
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9></a><span class=nb>export</span><span class=w> </span><span class=nv>PYTHONPATH</span><span class=w>     </span><span class=o>=</span>/lus/flare/projects/datasets/softwares/py_daos/just_pydaos_new/:<span class=nv>$PYTHONPATH</span>
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10></a>mpiexec<span class=w> </span>-n<span class=w> </span>...<span class=w> </span>python<span class=w> </span>pydaos_torch_example.py
</span></code></pre></div></td></tr></table></div></p> <p>Where the example Python script is:&gt; <div class="language-python highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>pydaos_torch_example.py</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-31-1> 1</a></span>
<span class=normal><a href=#__codelineno-31-2> 2</a></span>
<span class=normal><a href=#__codelineno-31-3> 3</a></span>
<span class=normal><a href=#__codelineno-31-4> 4</a></span>
<span class=normal><a href=#__codelineno-31-5> 5</a></span>
<span class=normal><a href=#__codelineno-31-6> 6</a></span>
<span class=normal><a href=#__codelineno-31-7> 7</a></span>
<span class=normal><a href=#__codelineno-31-8> 8</a></span>
<span class=normal><a href=#__codelineno-31-9> 9</a></span>
<span class=normal><a href=#__codelineno-31-10>10</a></span>
<span class=normal><a href=#__codelineno-31-11>11</a></span>
<span class=normal><a href=#__codelineno-31-12>12</a></span>
<span class=normal><a href=#__codelineno-31-13>13</a></span>
<span class=normal><a href=#__codelineno-31-14>14</a></span>
<span class=normal><a href=#__codelineno-31-15>15</a></span>
<span class=normal><a href=#__codelineno-31-16>16</a></span>
<span class=normal><a href=#__codelineno-31-17>17</a></span>
<span class=normal><a href=#__codelineno-31-18>18</a></span>
<span class=normal><a href=#__codelineno-31-19>19</a></span>
<span class=normal><a href=#__codelineno-31-20>20</a></span>
<span class=normal><a href=#__codelineno-31-21>21</a></span>
<span class=normal><a href=#__codelineno-31-22>22</a></span>
<span class=normal><a href=#__codelineno-31-23>23</a></span>
<span class=normal><a href=#__codelineno-31-24>24</a></span>
<span class=normal><a href=#__codelineno-31-25>25</a></span>
<span class=normal><a href=#__codelineno-31-26>26</a></span>
<span class=normal><a href=#__codelineno-31-27>27</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1></a><span class=kn>import</span><span class=w> </span><span class=nn>torch</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>sys_torch</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2></a><span class=kn>from</span><span class=w> </span><span class=nn>pydaos.daos_torch</span><span class=w> </span><span class=kn>import</span> <span class=n>Dataset</span> <span class=k>as</span> <span class=n>DaosDataset</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3></a><span class=kn>from</span><span class=w> </span><span class=nn>pydaos.daos_torch</span><span class=w> </span><span class=kn>import</span> <span class=n>Checkpoint</span> <span class=k>as</span> <span class=n>DaosCheckpoint</span>
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4></a><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>BytesIO</span>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5></a><span class=kn>from</span><span class=w> </span><span class=nn>mpi4py</span><span class=w> </span><span class=kn>import</span> <span class=n>MPI</span>
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6></a>
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7></a><span class=n>comm</span> <span class=o>=</span> <span class=n>MPI</span><span class=o>.</span><span class=n>COMM_WORLD</span>
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8></a><span class=n>pydaos_torch_ckpt</span> <span class=o>=</span> <span class=n>DaosCheckpoint</span><span class=p>(</span><span class=s2>&quot;datascience&quot;</span><span class=p>,</span> <span class=s2>&quot;my_container&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=c1>#To connect to DFS container</span>
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9></a><span class=n>a</span>    <span class=o>=</span> <span class=n>sys_torch</span><span class=o>.</span><span class=n>ones</span><span class=p>(</span><span class=mi>1048576</span><span class=p>)</span>
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10></a><span class=n>data</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>()</span>
</span><span id=__span-31-11><a id=__codelineno-31-11 name=__codelineno-31-11></a><span class=n>data</span> <span class=o>=</span> <span class=p>{</span> <span class=s2>&quot;a&quot;</span><span class=p>:</span> <span class=n>a</span><span class=p>,</span> <span class=p>}</span>
</span><span id=__span-31-12><a id=__codelineno-31-12 name=__codelineno-31-12></a><span class=n>name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;/data-</span><span class=si>{</span><span class=n>comm</span><span class=o>.</span><span class=n>rank</span><span class=si>}</span><span class=s2>-of-</span><span class=si>{</span><span class=n>comm</span><span class=o>.</span><span class=n>size</span><span class=si>}</span><span class=s2>.pt&quot;</span>
</span><span id=__span-31-13><a id=__codelineno-31-13 name=__codelineno-31-13></a>
</span><span id=__span-31-14><a id=__codelineno-31-14 name=__codelineno-31-14></a><span class=c1># PyDAOS Torch dataloader example</span>
</span><span id=__span-31-15><a id=__codelineno-31-15 name=__codelineno-31-15></a><span class=k>def</span><span class=w> </span><span class=nf>transform</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-31-16><a id=__codelineno-31-16 name=__codelineno-31-16></a>     <span class=k>return</span> <span class=n>np</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>BytesIO</span><span class=p>(</span><span class=n>data</span><span class=p>),</span> <span class=n>allow_pickle</span><span class=o>=</span><span class=kc>True</span><span class=p>)[</span><span class=s1>&#39;x&#39;</span><span class=p>]</span>
</span><span id=__span-31-17><a id=__codelineno-31-17 name=__codelineno-31-17></a><span class=n>ds</span> <span class=o>=</span> <span class=n>DaosDataset</span><span class=p>(</span><span class=n>pool</span><span class=o>=</span><span class=s2>&quot;datascience&quot;</span><span class=p>,</span> <span class=n>cont</span><span class=o>=</span><span class=s2>&quot;my-dataset&quot;</span><span class=p>,</span> <span class=n>transform_fn</span><span class=o>=</span><span class=n>transform</span><span class=p>)</span>
</span><span id=__span-31-18><a id=__codelineno-31-18 name=__codelineno-31-18></a>
</span><span id=__span-31-19><a id=__codelineno-31-19 name=__codelineno-31-19></a><span class=c1># PyDAOS Torch checkpoint save example</span>
</span><span id=__span-31-20><a id=__codelineno-31-20 name=__codelineno-31-20></a><span class=k>with</span> <span class=n>pydaos_torch_ckpt</span><span class=o>.</span><span class=n>writer</span><span class=p>(</span><span class=n>name</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-31-21><a id=__codelineno-31-21 name=__codelineno-31-21></a>    <span class=n>sys_torch</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span><span id=__span-31-22><a id=__codelineno-31-22 name=__codelineno-31-22></a><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Torch save completed&quot;</span><span class=p>)</span>
</span><span id=__span-31-23><a id=__codelineno-31-23 name=__codelineno-31-23></a>
</span><span id=__span-31-24><a id=__codelineno-31-24 name=__codelineno-31-24></a><span class=c1># PyDAOS Torch checkpoint load example</span>
</span><span id=__span-31-25><a id=__codelineno-31-25 name=__codelineno-31-25></a><span class=n>stream</span> <span class=o>=</span> <span class=n>pydaos_torch_ckpt</span><span class=o>.</span><span class=n>reader</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-31-26><a id=__codelineno-31-26 name=__codelineno-31-26></a><span class=n>loaded_data</span> <span class=o>=</span> <span class=n>sys_torch</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>stream</span><span class=p>,</span> <span class=n>weights_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-31-27><a id=__codelineno-31-27 name=__codelineno-31-27></a><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Torch load completed&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div></p> <ul> <li>PyDAOS uses <code>dfs_write()</code> and read functions, which are faster than POSIX <code>dfuse_write()</code> and read functions.</li> <li>PyDAOS uses DFS containers and Python DAOS containers.</li> <li>The path to the dataset folders inside these containers does not include <code>/tmp</code> and just starts from <code>/dataset_dir1</code> which assumes a folder inside the <code>DAOS_POOL</code> and <code>DAOS_CONT</code></li> <li>The above build path might be upgraded with newer builds without warning</li> <li>More examples can be found at <a href=https://github.com/daos-stack/daos/tree/master/src/client/pydaos/torch>DAOS GitHub repo &gt; <code>pydaos.torch</code></a></li> </ul> <h2 id=daos-hardware>DAOS Hardware<a class=headerlink href=#daos-hardware title="Permanent link">&para;</a></h2> <p>Each DAOS server node is based on the Intel Coyote Pass platform:</p> <ul> <li>(2) Xeon 5320 CPU (Ice Lake)</li> <li>(16) 32GB DDR4 DIMMs</li> <li>(16) 512GB Intel Optane Persistent Memory 200</li> <li>(16) 15.3TB Samsung PM1733 NVMe</li> <li>(2) HPE Slingshot <abbr title="Network Interface Card">NIC</abbr></li> </ul> <p><img alt="DAOS Node" src=../images/daos-node.png title="DAOS CYP Node"></p> <h2 id=darshan-profiler-for-daos>Darshan profiler for DAOS<a class=headerlink href=#darshan-profiler-for-daos title="Permanent link">&para;</a></h2> <p>Darshan is a lightweight I/O profiling tool consisting of a shared library your application preloads at runtime which generates a binary log file at program termination, and a suite of utilities to analyze this file. Full official documentation can be found <a href=https://www.mcs.anl.gov/research/projects/darshan/documentation/ >here</a>.</p> <h3 id=1-darshan>1. Darshan<a class=headerlink href=#1-darshan title="Permanent link">&para;</a></h3> <p>On Aurora, Darshan has been built in the programming environment in <code>/soft</code>.</p> <p>To get the Darshan utilities loaded into your programming environment, execute the following:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-32-1>1</a></span>
<span class=normal><a href=#__codelineno-32-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1></a>module<span class=w> </span>use<span class=w> </span>/soft/perftools/darshan/darshan-3.4.7/share/craype-2.x/modulefiles
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2></a>module<span class=w> </span>load<span class=w> </span>darshan
</span></code></pre></div></td></tr></table></div> <p>However it has not yet been fully modularized so the shared library must be manually preloaded at run time via <code>LD_PRELOAD</code>, along with PNetCDF and HDF5 shared libraries since support for those I/O libraries is included, and all 3 must precede any DAOS interception library, so the specification would be:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-33-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1></a><span class=nv>LD_PRELOAD</span><span class=o>=</span>/soft/perftools/darshan/darshan-3.4.7/lib/libdarshan.so:/opt/aurora/24.347.0/spack/unified/0.9.2/install/linux-sles15-x86_64/oneapi-2025.0.5/hdf5-1.14.5-zrlo32i/lib/libhdf5.so:/opt/aurora/24.347.0/spack/unified/0.9.2/install/linux-sles15-x86_64/oneapi-2025.0.5/parallel-netcdf-1.12.3-cszcp66/lib/libpnetcdf.so:/usr/lib64/libpil4dfs.so
</span></code></pre></div></td></tr></table></div> <p>If your application is using <code>gpu_tile_compact.sh</code> then this whole <code>LD_PRELOAD</code> will go in your personal copy of the Bash script via the <code>export</code> builtin command.</p> <p>Run your application normally as you would do with <code>mpiexec</code> or <code>mpirun</code>.</p> <p>This generates a binary log file which has two additional modules: DFS for the DAOS file system API layer, and DAOS for the underlying object store.</p> <p>By default, the binary log file is stored here:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-34-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1></a>/lus/flare/logs/darshan/aurora/YYYY/M/D
</span></code></pre></div></td></tr></table></div> <p>where the last 3 directories are the date the file is generated, with your user ID, job ID and timestamp in the file name. Alternatively, at run time you can specify the file name to be saved with a specified name in a different location with the following environment variable:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=nb>export</span><span class=w> </span><span class=nv>DARSHAN_LOGFILE</span><span class=o>=</span>&lt;full<span class=w> </span>path<span class=w> </span>to<span class=w> </span>binary<span class=w> </span>file<span class=w> </span>name&gt;
</span></code></pre></div> <h3 id=2-darshan-util-environment-module>2. <code>darshan-util</code> environment module<a class=headerlink href=#2-darshan-util-environment-module title="Permanent link">&para;</a></h3> <p><code>module load darshan-util</code> is needed for <code>darshan-parser</code> and <code>pydarshan</code></p> <p><code>LD_PRELOAD=/soft/perftools/darshan/darshan-3.4.7/lib/libdarshan-util.so:$LD_PRELOAD</code></p> <h3 id=3-darshan-parser-utility>3. <code>darshan-parser</code> utility<a class=headerlink href=#3-darshan-parser-utility title="Permanent link">&para;</a></h3> <p><code>darshan-parser</code> can be used on the binany log file to get a text output of all the metrics as follows: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-36-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1></a>/soft/perftools/darshan/darshan-3.4.7/bin/darshan-parser<span class=w> </span>/lus/flare/logs/darshan/aurora/2025/5/21/myfile.darshan<span class=w> </span>&gt;<span class=w> </span>out.txt.
</span></code></pre></div></td></tr></table></div></p> <h3 id=4-pydarshan-library-and-python-module>4. PyDarshan library and Python module<a class=headerlink href=#4-pydarshan-library-and-python-module title="Permanent link">&para;</a></h3> <p>For generating a graphical summary report, it is recommended to use the PyDarshan module on Aurora. It is a simple process of creating and activating a Python environment, installing the Darshan package, and then running the summary report generation command:</p> <p>For custom build: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-37-1>1</a></span>
<span class=normal><a href=#__codelineno-37-2>2</a></span>
<span class=normal><a href=#__codelineno-37-3>3</a></span>
<span class=normal><a href=#__codelineno-37-4>4</a></span>
<span class=normal><a href=#__codelineno-37-5>5</a></span>
<span class=normal><a href=#__codelineno-37-6>6</a></span>
<span class=normal><a href=#__codelineno-37-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1></a>module<span class=w> </span>load<span class=w> </span>python
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2></a>mkdir<span class=w> </span>&lt;pyton<span class=w> </span>env<span class=w> </span>dir&gt;
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3></a>python<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>&lt;pyton<span class=w> </span>env<span class=w> </span>dir&gt;
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4></a><span class=nb>cd</span><span class=w> </span>&lt;pyton<span class=w> </span>env<span class=w> </span>dir&gt;
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5></a><span class=nb>source</span><span class=w> </span>bin/activate
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6></a>pip<span class=w> </span>install<span class=w> </span>darshan
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7></a>python<span class=w> </span>-m<span class=w> </span>darshan<span class=w> </span>summary<span class=w> </span>&lt;binary<span class=w> </span>log<span class=w> </span>file&gt;
</span></code></pre></div></td></tr></table></div></p> <p>For system build: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-38-1>1</a></span>
<span class=normal><a href=#__codelineno-38-2>2</a></span>
<span class=normal><a href=#__codelineno-38-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1></a>module<span class=w> </span>load<span class=w> </span>python
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2></a>.<span class=w> </span>/soft/daos/pydarshan_plots_venv/bin/activate
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3></a>pip<span class=w> </span>show<span class=w> </span>darshan
</span></code></pre></div></td></tr></table></div> The above 3 lines should be replaced by a simpler <code>module load pydarshan</code> in the future. </p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-39-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1></a>python<span class=w> </span>-m<span class=w> </span>darshan<span class=w> </span>summary<span class=w> </span>/lus/flare/logs/darshan/aurora/2025/5/21/my.darshan
</span></code></pre></div></td></tr></table></div> <p>should generate the <code>.html</code> Darshan report</p> <h2 id=cluster-size>Cluster Size<a class=headerlink href=#cluster-size title="Permanent link">&para;</a></h2> <p>DAOS cluster size is the number of available DAOS servers. While we are working towards bringing up the entire 1024 DAOS server available users, currently different number of DAOS nodes could be up. Please check with support or run an IOR test to get an estimate on the current number of DAOS servers available. The bandwidth listed here in the last column is a theoretical peak bandwidth.</p> <p><strong>Expected Bandwidth</strong> Expected number of DAOS servers and its approximate expected bandwidth</p> <table> <thead> <tr> <th style="text-align: center;">Nodes</th> <th style="text-align: center;">Percentage</th> <th style="text-align: center;">Throughput</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">20</td> <td style="text-align: center;">2%</td> <td style="text-align: center;">1 TB/s</td> </tr> <tr> <td style="text-align: center;">128</td> <td style="text-align: center;">12.50%</td> <td style="text-align: center;">5 TB/s</td> </tr> <tr> <td style="text-align: center;">600</td> <td style="text-align: center;">60%</td> <td style="text-align: center;">10 TB/s</td> </tr> <tr> <td style="text-align: center;">800</td> <td style="text-align: center;">78%</td> <td style="text-align: center;">20 TB/s</td> </tr> <tr> <td style="text-align: center;">1024</td> <td style="text-align: center;">100%</td> <td style="text-align: center;">30 TB/s</td> </tr> </tbody> </table> <p>The size of your current DAOS cluster can be found using the following formula: <div class="language-text highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a>daos_cluster_size = ntarget / targets_per_node
</span></code></pre></div> The value of <code>ntarget</code> comes from the output of: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-41-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span>&lt;pool_name&gt;
</span></code></pre></div></td></tr></table></div> and the value of <code>targets_per_node=32</code> is fixed given the node hardware configuration of our filesystem.</p> <p>An example: <div class="language-console highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=go>&gt; daos pool query hacc</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=go>Pool 050b20a3-3fcc-499b-a6cf-07d4b80b04fd, ntarget=4096, disabled=0, leader=2, version=131</span>
</span></code></pre></div> So the DAOS cluster size is: <div class="language-text highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a>4096 targets / 32 targets per node 
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a> = 128 daos servers
</span></code></pre></div></p> <h2 id=sharing-containers-with-multiple-users>Sharing containers with multiple users<a class=headerlink href=#sharing-containers-with-multiple-users title="Permanent link">&para;</a></h2> <p>If you'd like to create a container that includes a dataset and allows multiple users from your project team to reuse it concurrently (with simultaneous mounting and safe read/write operations, i.e., without race conditions), you can follow the below procedure below. Before proceeding, ensure that all intended users have the necessary access to your project, pool, and user group.</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-44-1> 1</a></span>
<span class=normal><a href=#__codelineno-44-2> 2</a></span>
<span class=normal><a href=#__codelineno-44-3> 3</a></span>
<span class=normal><a href=#__codelineno-44-4> 4</a></span>
<span class=normal><a href=#__codelineno-44-5> 5</a></span>
<span class=normal><a href=#__codelineno-44-6> 6</a></span>
<span class=normal><a href=#__codelineno-44-7> 7</a></span>
<span class=normal><a href=#__codelineno-44-8> 8</a></span>
<span class=normal><a href=#__codelineno-44-9> 9</a></span>
<span class=normal><a href=#__codelineno-44-10>10</a></span>
<span class=normal><a href=#__codelineno-44-11>11</a></span>
<span class=normal><a href=#__codelineno-44-12>12</a></span>
<span class=normal><a href=#__codelineno-44-13>13</a></span>
<span class=normal><a href=#__codelineno-44-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1></a>daos<span class=w> </span>container<span class=w> </span>get-prop<span class=w> </span>DAOS_POOL<span class=w> </span>DAOS_CONT<span class=w>                   </span><span class=c1># provides the details on the current ACLs</span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2></a>daos<span class=w> </span>cont<span class=w> </span>update-acl<span class=w> </span>-e<span class=w> </span><span class=s2>&quot;A::pkcoff@:rw&quot;</span><span class=w> </span>DAOS_POOL<span class=w> </span>DAOS_CONT<span class=w>   </span><span class=c1># add the username to whom you want to share the container with</span>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3></a>daos<span class=w> </span>cont<span class=w> </span>update-acl<span class=w> </span>-e<span class=w> </span><span class=s2>&quot;A:G:users@:rwta&quot;</span><span class=w> </span>DAOS_POOL<span class=w> </span>DAOS_CONT<span class=w> </span><span class=c1># alternatively you can update the acl for the group instead of a user.</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4></a>daos<span class=w> </span>container<span class=w> </span>get-prop<span class=w> </span>DAOS_POOL<span class=w> </span>DAOS_CONT<span class=w>                   </span><span class=c1># verify the updated ACLs</span>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5></a>groups<span class=w>                                                        </span><span class=c1># to check if the users are in the same group name </span>
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6></a>chmod<span class=w> </span>-R<span class=w> </span><span class=m>775</span><span class=w> </span>/tmp/<span class=nv>$DAOS_POOL</span>/<span class=nv>$DAOS_CONT</span>/shared-dir<span class=w>            </span><span class=c1># provide the right chmod settings on the directory where they can read or write</span>
</span><span id=__span-44-7><a id=__codelineno-44-7 name=__codelineno-44-7></a>kaushikvelusamy@x4405c0s0b0n0:&gt;<span class=w> </span>daos<span class=w> </span>container<span class=w> </span>get-prop<span class=w> </span>d9cbdfc4-628b-4ec1-ad01-0b506e4fb3c0<span class=w> </span>ba1d5b48-4a88-4052-b764-729328a0dac3<span class=w> </span><span class=c1># POOLUUID CONTUUID</span>
</span><span id=__span-44-8><a id=__codelineno-44-8 name=__codelineno-44-8></a>Properties<span class=w> </span><span class=k>for</span><span class=w> </span>container<span class=w> </span>ba1d5b48-4a88-4052-b764-729328a0dac3
</span><span id=__span-44-9><a id=__codelineno-44-9 name=__codelineno-44-9></a>Name<span class=w>                                             </span>Value<span class=w>                       </span>
</span><span id=__span-44-10><a id=__codelineno-44-10 name=__codelineno-44-10></a>----<span class=w>                                             </span>-----<span class=w>                         </span>
</span><span id=__span-44-11><a id=__codelineno-44-11 name=__codelineno-44-11></a>Group<span class=w> </span><span class=o>(</span>group<span class=o>)</span><span class=w>                                    </span>users@<span class=w>                    </span>
</span><span id=__span-44-12><a id=__codelineno-44-12 name=__codelineno-44-12></a>Access<span class=w> </span>Control<span class=w> </span>List<span class=w> </span><span class=o>(</span>acl<span class=o>)</span><span class=w>                        </span>A::OWNER@:rwdtTaAo,<span class=w> </span>A::pkcoff@:r,<span class=w> </span>A:G:GROUP@:rwtT<span class=w>   </span>
</span><span id=__span-44-13><a id=__codelineno-44-13 name=__codelineno-44-13></a>kaushikvelusamy@x4405c0s0b0n0:&gt;<span class=w> </span>groups
</span><span id=__span-44-14><a id=__codelineno-44-14 name=__codelineno-44-14></a>users<span class=w> </span>
</span></code></pre></div></td></tr></table></div> <h2 id=known-issues-and-workarounds>Known issues and workarounds<a class=headerlink href=#known-issues-and-workarounds title="Permanent link">&para;</a></h2> <h3 id=1-large-bulk-io-write-issue>1. Large bulk I/O write issue<a class=headerlink href=#1-large-bulk-io-write-issue title="Permanent link">&para;</a></h3> <p>There is a known issue Python with <code>pil4dfs</code> - Fix provided in DAOS-17499 - Current workaround is to set <code>D_IL_COMPATIBLE=1</code> environment variable. Y - You can skip <code>pil4dfs</code> for now if that happens.</p> <div class="language-output highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=go>python: can&#39;t open file &#39;/home/jlo/dfuse/./app.py&#39;: [Errno 95] Operation not supported</span>
</span></code></pre></div> <h3 id=2-pydaosdaos_torch-disconnect-and-clean-up>2. <code>pydaos.daos_torch</code> disconnect and clean up<a class=headerlink href=#2-pydaosdaos_torch-disconnect-and-clean-up title="Permanent link">&para;</a></h3> <p>There is a DFS disconnect clean up issue. This should be fixed in the next release.</p> <h3 id=3-libfabric-endpoint-creation-error>3. Libfabric endpoint creation error<a class=headerlink href=#3-libfabric-endpoint-creation-error title="Permanent link">&para;</a></h3> <p>Occasionally at a high number of nodes and/or high PPN the following error that looks like this may show up in your stderr log:</p> <div class="language-output highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=go>04/02-11:03:16.60 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.708457] mercury-&gt;ctx [error] /builddir/build/BUILD/mercury-2.4.0/src/na/na_ofi.c:5400 na_ofi_eq_open() fi_cq_open failed, rc: -17 (File exists)</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.722714] mercury-&gt;cls [error] /builddir/build/BUILD/mercury-2.4.0/src/na/na_ofi.c:5191 na_ofi_basic_ep_open() Could not open event queues</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.722737] mercury-&gt;cls [error] /builddir/build/BUILD/mercury-2.4.0/src/na/na_ofi.c:5158 na_ofi_endpoint_open() na_ofi_basic_ep_open() failed</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.722743] mercury-&gt;cls [error] /builddir/build/BUILD/mercury-2.4.0/src/na/na_ofi.c:7712 na_ofi_initialize() Could not create endpoint</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.722976] mercury-&gt;cls [error] /builddir/build/BUILD/mercury-2.4.0/src/na/na.c:879 NA_Initialize_opt2() Could not initialize plugin</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.722988] mercury-&gt;cls [error] /scratchbox/daos/mschaara/io500/daos/build/external/debug/mercury/src/mercury_core.c:1347 hg_core_init() Could not initialize NA class (info_string=ofi+cxi://cxi4, listen=0)</span>
</span><span id=__span-46-7><a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.723007] mercury-&gt;cls [error] /scratchbox/daos/mschaara/io500/daos/build/external/debug/mercury/src/mercury_core.c:6074 HG_Core_init_opt2() Cannot initialize core class</span>
</span><span id=__span-46-8><a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a><span class=go>04/02-11:03:16.61 x4319c0s0b0n0 DAOS[53174/53174/0] external ERR  # [1092097.723014] mercury-&gt;cls [error] /scratchbox/daos/mschaara/io500/daos/build/external/debug/mercury/src/mercury.c:1128 HG_Init_opt2() Could not create HG core class</span>
</span></code></pre></div> <p>You can disregard this, as the DAOS client will simply retry the operation until it succeeds.</p> <h3 id=4-issue-with-the-gpu_tile_compactsh-bash-script-and-the-daos-interception-libraries>4. Issue with the <code>gpu_tile_compact.sh</code> bash script and the DAOS Interception Libraries<a class=headerlink href=#4-issue-with-the-gpu_tile_compactsh-bash-script-and-the-daos-interception-libraries title="Permanent link">&para;</a></h3> <p>There is currently a bug between the oneAPI Level Zero, the DAOS Interception Libraries (/usr/lib64/libpil4dfs.so and /usr/lib64/libioil.so) and the /soft/tools/mpi_wrapper_utils/gpu_tile_compact.sh bash script where you may get an error like this sporadically at scale: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-47-1>1</a></span>
<span class=normal><a href=#__codelineno-47-2>2</a></span>
<span class=normal><a href=#__codelineno-47-3>3</a></span>
<span class=normal><a href=#__codelineno-47-4>4</a></span>
<span class=normal><a href=#__codelineno-47-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1></a>terminate<span class=w> </span>called<span class=w> </span>after<span class=w> </span>throwing<span class=w> </span>an<span class=w> </span>instance<span class=w> </span>of<span class=w> </span><span class=s1>&#39;std::invalid_argument&#39;</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2></a><span class=w>  </span>what<span class=o>()</span>:<span class=w>  </span>stoul
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3></a>/soft/tools/mpi_wrapper_utils/gpu_tile_compact.sh:<span class=w> </span>line<span class=w> </span><span class=m>47</span>:<span class=w> </span><span class=m>38240</span><span class=w> </span>Aborted<span class=w>                 </span><span class=s2>&quot;</span><span class=nv>$@</span><span class=s2>&quot;</span>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4></a>x4616c3s4b0n0.hostmgmt2616.cm.aurora.alcf.anl.gov:<span class=w> </span>rank<span class=w> </span><span class=m>2355</span><span class=w> </span>exited<span class=w> </span>with<span class=w> </span>code<span class=w> </span><span class=m>134</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5></a>x4616c3s4b0n0.hostmgmt2616.cm.aurora.alcf.anl.gov:<span class=w> </span>rank<span class=w> </span><span class=m>2358</span><span class=w> </span>died<span class=w> </span>from<span class=w> </span>signal<span class=w> </span><span class=m>15</span>
</span></code></pre></div></td></tr></table></div></p> <p>This issue is still under investigation. In the meantime, there is a workaround which is to take the <code>/soft/tools/mpi_wrapper_utils/gpu_tile_compact.sh</code> Bash script and create your own version of it to perform the <code>LD_PRELOAD</code> of the interception library within this script. In the case of the <code>libpil4dfs.so</code>, you would add the following line just before the execution of the binary: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-48-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1></a><span class=nb>export</span><span class=w> </span><span class=nv>LD_PRELOAD</span><span class=o>=</span>/usr/lib64/libpil4dfs.so
</span></code></pre></div></td></tr></table></div> For an example, see: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-49-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1></a>/lus/flare/projects/Aurora_deployment/pkcoff/scripts/gpu_tile_compact_LD_PRELOAD.sh
</span></code></pre></div></td></tr></table></div></p> <h3 id=5-na_hostunreach-errors>5. <code>NA_HOSTUNREACH</code> errors<a class=headerlink href=#5-na_hostunreach-errors title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a>hg_core_send_input_cb<span class=o>()</span><span class=w> </span>NA<span class=w> </span>callback<span class=w> </span>returned<span class=w> </span>error<span class=w> </span><span class=o>(</span>NA_HOSTUNREACH<span class=o>)</span>
</span></code></pre></div> <p>is almost always the no-vni issue or network issue and not a DAOS issue</p> <h2 id=best-practices>Best practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <ol> <li>Check that you <strong>requested</strong> DAOS: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-51-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1></a>qsub<span class=w> </span>â€“l<span class=w> </span><span class=nv>filesystems</span><span class=o>=</span>daos_user_fs
</span></code></pre></div></td></tr></table></div></li> <li>Check that you <strong>loaded</strong> the DAOS module: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-52-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1></a>module<span class=w> </span>load<span class=w> </span>daos
</span></code></pre></div></td></tr></table></div></li> <li>Check that you have your DAOS pool <strong>allocated</strong>: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-53-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span>datascience
</span></code></pre></div></td></tr></table></div></li> <li>Check that the DAOS client is <strong>running</strong> on all your nodes: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-54-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1></a>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>daos
</span></code></pre></div></td></tr></table></div></li> <li>Check that your container is <strong>mounted</strong> on all nodes: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-55-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1></a>mount<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>dfuse
</span></code></pre></div></td></tr></table></div></li> <li>Check that you <strong>can <code>ls</code></strong> in your container: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-56-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1></a>ls<span class=w> </span>/tmp/<span class=si>${</span><span class=nv>DAOS_POOL</span><span class=si>}</span>/<span class=si>${</span><span class=nv>DAOS_CONT</span><span class=si>}</span>
</span></code></pre></div></td></tr></table></div></li> <li>Check that your I/O <strong>actually failed</strong>.</li> <li>Check the <strong>health property</strong> in your container: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-57-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1></a>daos<span class=w> </span>container<span class=w> </span>get-prop<span class=w> </span><span class=nv>$DAOS_POOL</span><span class=w> </span><span class=nv>$CONT</span>
</span></code></pre></div></td></tr></table></div></li> <li>Check if your space is <strong>full</strong> (min and max): <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-58-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span>datascience
</span></code></pre></div></td></tr></table></div></li> <li>Check if your query shows <strong>failed targets</strong> or <strong>rebuild in process</strong>: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-59-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1></a>daos<span class=w> </span>pool<span class=w> </span>query<span class=w> </span>datascience
</span></code></pre></div></td></tr></table></div></li> <li>Run the following commands to <strong>check the health</strong> of your DAOS pool and container: <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-60-1>1</a></span>
<span class=normal><a href=#__codelineno-60-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1></a>daos<span class=w> </span>pool<span class=w> </span>autotest
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2></a>daos<span class=w> </span>container<span class=w> </span>check
</span></code></pre></div></td></tr></table></div></li> <li>If you are still having issues, please submit a ticket at <a href=mailto:support@alcf.anl.gov>support@alcf.anl.gov</a></li> </ol> <!-- *[ALCF]: Argonne Leadership Computing Facility --> <!-- *[AMD]: Advanced Micro Devices --> <!-- *[API]: Application Programming Interface --> <!-- *[CLI]: Command Line Interface --> <!-- *[CPU]: Central Processing Unit --> <!-- *[CUDA]: Compute Unified Device Architecture --> <!-- *[DRAM]: Dynamic Random-Access Memory --> <!-- *[GCC]: GNU Compiler Collection --> <!-- *[GDB]: GNU Debugger --> <!-- *[GPU]: Graphics Processing Unit --> <!-- *[HPC]: High Performance Computing --> <!-- *[HPE]: Hewlett Packard Enterprise --> <!-- *[I/O]: Input/Output --> <!-- *[LLVM]: Low Level Virtual Machine --> <!-- *[MPI]: Message Passing Interface --> <!-- *[OpenMP]: Open Multi-Processing --> <!-- *[OS]: Operating System --> <!-- *[PBS]: Portable Batch System --> <!-- *[RAM]: Random Access Memory --> <!-- *[SDK]: Software Development Kit --> <!-- *[SFTP]: SSH File Transfer Protocol --> <!-- *[SSH]: Secure Shell --> <!-- *[SYCL]: --> <!-- *[URL]: Uniform Resource Locator --> <!-- *[XALT]:  --> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <!-- Footer --> <!-- --------------------------------------------------------------------- --> <footer> <div class=grid> <div class=footer--attr> <h2> <span>ALCF</span> A DOE Office of Science User Facility </div> <div class=footer--address> <p> Argonne National Laboratory<br> 9700 South Cass Avenue<br> Building 240<br> Argonne, IL 60439<br> <a href=mailto:media@alcf.anl.gov>Contact</a> </p> <!-- Social links from mkdocs-material theme --> <div class=footer--social> <div class=md-social> <a href=https://github.com/argonne-lcf/user-guides target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://www.youtube.com/c/argonneleadershipcomputingfacility target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg> </a> <a href=https://x.com/argonne_lcf target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg> </a> <a href=https://www.facebook.com/argonne.lcf/ target=_blank rel=noopener title=www.facebook.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg> </a> </div> </div> </div> <div class=footer--admin> <a href="https://login.anl.gov/idp/profile/SAML2/Redirect/SSO?execution=e1s1">Internal Admin</a> </div> <div class=footer--copyright> <p> &copy; <span id=current-year></span> Argonne Leadership Computing Facility </p> </div> <div class=footer--logos> <img class=footer--logo-doe src=https://docs.alcf.anl.gov//images/doe.png> <img class=footer--logo-argonne src="https://docs.alcf.anl.gov//
		images/ANL_ko_300.png"> <img class=footer--logo-argonne src="https://docs.alcf.anl.gov//
		images/UCHI.png"> </div> </div> </footer> <script>
  // Update the year on initial page load
  document.addEventListener('DOMContentLoaded', function() {
    updateYear();
  });
  
  // Update the year when using instant loading
  if (document.querySelector('.md-content')) {
    // For mkdocs-material's instant loading feature
    var observer = new MutationObserver(function(mutations) {
      updateYear();
    });
    
    observer.observe(document.querySelector('.md-content'), {
      childList: true,
      subtree: true
    });
  }
  
  function updateYear() {
    var yearElement = document.getElementById('current-year');
    if (yearElement) {
      yearElement.textContent = new Date().getFullYear();
    }
  }
</script> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "navigation.sections", "toc.follow", "search.highlight", "search.suggest"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../../javascripts/alcf-extra.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.date.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.number.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.filesize.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.dotsep.js></script> <script src=../../../../javascripts/tablesort.js></script> </body> </html>